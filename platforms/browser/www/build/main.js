webpackJsonp([5],{113:function(e,t){function n(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}n.keys=function(){return[]},(e.exports=n.resolve=n).id=113},123:function(e,t,n){var o={"../pages/buy/buy.module.ngfactory":[213,1],"../pages/home/home.module.ngfactory":[214,3],"../pages/search/search.module.ngfactory":[215,0],"../pages/signout/signout.module.ngfactory":[216,4],"../pages/specials/specials.module.ngfactory":[217,2]};function i(e){var t=o[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}i.keys=function(){return Object.keys(o)},i.id=123,e.exports=i},153:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),i=n(0),r=n(51),_=(n(65),n(62)),s=n(63),a=n(45),l=function(){return function(e,t,n,o){this.rootPage="home",e.ready().then(function(){t.styleDefault(),n.hide()})}}(),u=n(76),h=n(66),c=(n(131),n(206),function(){return function(){}}()),p=n(13),f=n(137),g=n(10),d=n(38),b=n(7),y=n(5),m=n(84),P=n(21),S=n(93),C=n(132),A=n(86),O=n(70),v=n(85),k=n(16),w=n(57),j=n(44),R=n(72),M=n(73),T=n(75),E=n(88),F=n(69),I=n(24),D=n(143),L=n(144),H=n(145),N=n(146),B=n(147),U=n(148),z=n(149),G=n(150),X=n(212),q=n(58),K=n(3),V=n(20),x=n(1),Z=n(4),J=n(14),W=n(40),Q=i._3({encapsulation:2,styles:[],data:{}});function Y(e){return i._25(0,[(e()(),i._5(0,null,null,2,"ion-nav",[],null,null,null,X.b,X.a)),i._4(4374528,null,0,q.a,[[2,K.a],[2,V.a],b.a,x.a,Z.a,i.k,i.z,i.F,i.j,y.i,I.a,[2,J.a],g.a,i.l],{root:[0,"root"]},null),i._21(6144,null,W.a,null,[q.a]),(e()(),i._24(null,["\n"]))],function(e,t){e(t,1,0,t.component.rootPage)},null)}var $,ee=i._2("ng-component",l,function(e){return i._25(0,[(e()(),i._5(0,null,null,1,"ng-component",[],null,null,null,Y,Q)),i._4(49152,null,0,l,[Z.a,s.a,_.a,a.a],null,null)],null,null)},{},{},[]),te=n(133),ne=n(52),oe=n(104),ie=n(87),re=n(26),_e=n(89),se=n(36),ae=this&&this.__extends||($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}$(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),le=function(t){function e(e){return t.call(this,e,[D.a,L.a,H.a,N.a,B.a,U.a,z.a,G.a,ee],[H.a])||this}return ae(e,t),Object.defineProperty(e.prototype,"_LOCALE_ID_28",{get:function(){return null==this.__LOCALE_ID_28&&(this.__LOCALE_ID_28=i._16(this.parent.get(i.u,null))),this.__LOCALE_ID_28},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_NgLocalization_29",{get:function(){return null==this.__NgLocalization_29&&(this.__NgLocalization_29=new p.i(this._LOCALE_ID_28)),this.__NgLocalization_29},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_APP_ID_30",{get:function(){return null==this.__APP_ID_30&&(this.__APP_ID_30=i._7()),this.__APP_ID_30},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_IterableDiffers_31",{get:function(){return null==this.__IterableDiffers_31&&(this.__IterableDiffers_31=i._13()),this.__IterableDiffers_31},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_KeyValueDiffers_32",{get:function(){return null==this.__KeyValueDiffers_32&&(this.__KeyValueDiffers_32=i._15()),this.__KeyValueDiffers_32},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_DomSanitizer_33",{get:function(){return null==this.__DomSanitizer_33&&(this.__DomSanitizer_33=new o.s(this.parent.get(o.b))),this.__DomSanitizer_33},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Sanitizer_34",{get:function(){return null==this.__Sanitizer_34&&(this.__Sanitizer_34=this._DomSanitizer_33),this.__Sanitizer_34},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_HAMMER_GESTURE_CONFIG_35",{get:function(){return null==this.__HAMMER_GESTURE_CONFIG_35&&(this.__HAMMER_GESTURE_CONFIG_35=new A.a),this.__HAMMER_GESTURE_CONFIG_35},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_EVENT_MANAGER_PLUGINS_36",{get:function(){return null==this.__EVENT_MANAGER_PLUGINS_36&&(this.__EVENT_MANAGER_PLUGINS_36=[new o.l(this.parent.get(o.b)),new o.p(this.parent.get(o.b)),new o.o(this.parent.get(o.b),this._HAMMER_GESTURE_CONFIG_35)]),this.__EVENT_MANAGER_PLUGINS_36},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_EventManager_37",{get:function(){return null==this.__EventManager_37&&(this.__EventManager_37=new o.e(this._EVENT_MANAGER_PLUGINS_36,this.parent.get(i.z))),this.__EventManager_37},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵDomSharedStylesHost_38",{get:function(){return null==this.__ɵDomSharedStylesHost_38&&(this.__ɵDomSharedStylesHost_38=new o.n(this.parent.get(o.b))),this.__ɵDomSharedStylesHost_38},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵDomRendererFactory2_39",{get:function(){return null==this.__ɵDomRendererFactory2_39&&(this.__ɵDomRendererFactory2_39=new o.m(this._EventManager_37,this._ɵDomSharedStylesHost_38)),this.__ɵDomRendererFactory2_39},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_RendererFactory2_40",{get:function(){return null==this.__RendererFactory2_40&&(this.__RendererFactory2_40=this._ɵDomRendererFactory2_39),this.__RendererFactory2_40},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵSharedStylesHost_41",{get:function(){return null==this.__ɵSharedStylesHost_41&&(this.__ɵSharedStylesHost_41=this._ɵDomSharedStylesHost_38),this.__ɵSharedStylesHost_41},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Testability_42",{get:function(){return null==this.__Testability_42&&(this.__Testability_42=new i.N(this.parent.get(i.z))),this.__Testability_42},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Meta_43",{get:function(){return null==this.__Meta_43&&(this.__Meta_43=new o.h(this.parent.get(o.b))),this.__Meta_43},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Title_44",{get:function(){return null==this.__Title_44&&(this.__Title_44=new o.j(this.parent.get(o.b))),this.__Title_44},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵi_45",{get:function(){return null==this.__ɵi_45&&(this.__ɵi_45=new P.k),this.__ɵi_45},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_FormBuilder_46",{get:function(){return null==this.__FormBuilder_46&&(this.__FormBuilder_46=new P.c),this.__FormBuilder_46},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_FirebaseApp_49",{get:function(){return null==this.__FirebaseApp_49&&(this.__FirebaseApp_49=te.c(this._FirebaseAppConfigToken_47,this._FirebaseAppName_48)),this.__FirebaseApp_49},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_BrowserXhr_50",{get:function(){return null==this.__BrowserXhr_50&&(this.__BrowserXhr_50=new r.c),this.__BrowserXhr_50},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ResponseOptions_51",{get:function(){return null==this.__ResponseOptions_51&&(this.__ResponseOptions_51=new r.b),this.__ResponseOptions_51},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_XSRFStrategy_52",{get:function(){return null==this.__XSRFStrategy_52&&(this.__XSRFStrategy_52=r.k()),this.__XSRFStrategy_52},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_XHRBackend_53",{get:function(){return null==this.__XHRBackend_53&&(this.__XHRBackend_53=new r.i(this._BrowserXhr_50,this._ResponseOptions_51,this._XSRFStrategy_52)),this.__XHRBackend_53},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_RequestOptions_54",{get:function(){return null==this.__RequestOptions_54&&(this.__RequestOptions_54=new r.a),this.__RequestOptions_54},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Http_55",{get:function(){return null==this.__Http_55&&(this.__Http_55=r.l(this._XHRBackend_53,this._RequestOptions_54)),this.__Http_55},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_AlertController_59",{get:function(){return null==this.__AlertController_59&&(this.__AlertController_59=new O.a(this._App_8,this._Config_5)),this.__AlertController_59},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Events_60",{get:function(){return null==this.__Events_60&&(this.__Events_60=new v.a),this.__Events_60},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Form_61",{get:function(){return null==this.__Form_61&&(this.__Form_61=new k.a),this.__Form_61},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Haptic_62",{get:function(){return null==this.__Haptic_62&&(this.__Haptic_62=new w.a(this._Platform_4)),this.__Haptic_62},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Keyboard_63",{get:function(){return null==this.__Keyboard_63&&(this.__Keyboard_63=new j.a(this._Config_5,this._Platform_4,this.parent.get(i.z),this._DomController_6)),this.__Keyboard_63},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_LoadingController_64",{get:function(){return null==this.__LoadingController_64&&(this.__LoadingController_64=new R.a(this._App_8,this._Config_5)),this.__LoadingController_64},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_LocationStrategy_65",{get:function(){return null==this.__LocationStrategy_65&&(this.__LocationStrategy_65=S.c(this.parent.get(p.p),this._APP_BASE_HREF_57,this._Config_5)),this.__LocationStrategy_65},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Location_66",{get:function(){return null==this.__Location_66&&(this.__Location_66=new p.d(this._LocationStrategy_65)),this.__Location_66},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_UrlSerializer_67",{get:function(){return null==this.__UrlSerializer_67&&(this.__UrlSerializer_67=ne.d(this._App_8,this._DeepLinkConfigToken_10)),this.__UrlSerializer_67},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_DeepLinker_68",{get:function(){return null==this.__DeepLinker_68&&(this.__DeepLinker_68=J.b(this._App_8,this._UrlSerializer_67,this._Location_66,this._ModuleLoader_13,this.componentFactoryResolver)),this.__DeepLinker_68},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ModalController_69",{get:function(){return null==this.__ModalController_69&&(this.__ModalController_69=new M.a(this._App_8,this._Config_5,this._DeepLinker_68)),this.__ModalController_69},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_PopoverController_71",{get:function(){return null==this.__PopoverController_71&&(this.__PopoverController_71=new T.a(this._App_8,this._Config_5,this._DeepLinker_68)),this.__PopoverController_71},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_TapClick_72",{get:function(){return null==this.__TapClick_72&&(this.__TapClick_72=new E.a(this._Config_5,this._Platform_4,this._DomController_6,this._App_8,this._GestureController_9)),this.__TapClick_72},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ToastController_73",{get:function(){return null==this.__ToastController_73&&(this.__ToastController_73=new F.a(this._App_8,this._Config_5)),this.__ToastController_73},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_TransitionController_74",{get:function(){return null==this.__TransitionController_74&&(this.__TransitionController_74=new I.a(this._Platform_4,this._Config_5)),this.__TransitionController_74},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Storage_76",{get:function(){return null==this.__Storage_76&&(this.__Storage_76=oe.c(this._StorageConfigToken_75)),this.__Storage_76},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_StatusBar_77",{get:function(){return null==this.__StatusBar_77&&(this.__StatusBar_77=new s.a),this.__StatusBar_77},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_SplashScreen_78",{get:function(){return null==this.__SplashScreen_78&&(this.__SplashScreen_78=new _.a),this.__SplashScreen_78},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_AppServiceProvider_79",{get:function(){return null==this.__AppServiceProvider_79&&(this.__AppServiceProvider_79=new h.a(this._Http_55,this._ToastController_73,this._LoadingController_64)),this.__AppServiceProvider_79},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_FirebaseMessagingProvider_80",{get:function(){return null==this.__FirebaseMessagingProvider_80&&(this.__FirebaseMessagingProvider_80=new a.a(this._Http_55,this._Storage_76,this._FirebaseApp_49,this._AppServiceProvider_79)),this.__FirebaseMessagingProvider_80},enumerable:!0,configurable:!0}),e.prototype.createInternal=function(){return this._CommonModule_0=new p.b,this._ErrorHandler_1=new f.a,this._ConfigToken_2=null,this._PlatformConfigToken_3=ie.b(),this._Platform_4=Z.b(this.parent.get(o.b),this._PlatformConfigToken_3,this.parent.get(i.z)),this._Config_5=x.c(this._ConfigToken_2,this._Platform_4),this._DomController_6=new g.a(this._Platform_4),this._MenuController_7=new d.a,this._App_8=new b.a(this._Config_5,this._Platform_4,this._MenuController_7),this._GestureController_9=new y.i(this._App_8),this._DeepLinkConfigToken_10={links:[{loadChildren:"../pages/buy/buy.module.ngfactory#BuyPageModuleNgFactory",name:"BuyPage",segment:"buy",priority:"low",defaultHistory:[]},{loadChildren:"../pages/home/home.module.ngfactory#HomePageModuleNgFactory",name:"home",segment:"home",priority:"low",defaultHistory:[]},{loadChildren:"../pages/search/search.module.ngfactory#SearchPageModuleNgFactory",name:"SearchPage",segment:"search/:code",priority:"low",defaultHistory:[]},{loadChildren:"../pages/signout/signout.module.ngfactory#BuyPageModuleNgFactory",name:"SignoutPage",segment:"signout",priority:"low",defaultHistory:[]},{loadChildren:"../pages/specials/specials.module.ngfactory#SpecialsPageModuleNgFactory",name:"SpecialsPage",segment:"specials",priority:"low",defaultHistory:[]}]},this._Compiler_11=new i.i,this._NgModuleLoader_12=new m.a(this._Compiler_11),this._ModuleLoader_13=re.c(this._NgModuleLoader_12,this),this._APP_INITIALIZER_14=[i._19,o.r(this.parent.get(o.i,null),this.parent.get(i.y,null)),_e.a(this._Config_5),v.b(this._Platform_4,this._DomController_6),E.b(this._Config_5,this._Platform_4,this._DomController_6,this._App_8,this._GestureController_9),re.d(this._Config_5,this._DeepLinkConfigToken_10,this._ModuleLoader_13,this.parent.get(i.z))],this._ApplicationInitStatus_15=new i.d(this._APP_INITIALIZER_14),this._ɵf_16=new i._6(this.parent.get(i.z),this.parent.get(i.Z),this,this._ErrorHandler_1,this.componentFactoryResolver,this._ApplicationInitStatus_15),this._ApplicationRef_17=this._ɵf_16,this._ApplicationModule_18=new i.e(this._ApplicationRef_17),this._BrowserModule_19=new o.a(this.parent.get(o.a,null)),this._ɵba_20=new P.j,this._FormsModule_21=new P.d,this._ReactiveFormsModule_22=new P.i,this._IonicModule_23=new S.a,this._AngularFireModule_24=new C.a,this._HttpModule_25=new r.f,this._IonicStorageModule_26=new u.a,this._AppModule_27=new c,this._FirebaseAppConfigToken_47={apiKey:"AIzaSyDM8j00pSlfGnw9hEtkYHks5M9fek_lm5U",authDomain:"tuckshop-9efa0.firebaseapp.com",databaseURL:"https://tuckshop-9efa0.firebaseio.com",projectId:"tuckshop-9efa0",storageBucket:"",messagingSenderId:"925518089689"},this._FirebaseAppName_48=void 0,this._AppRootToken_56=l,this._APP_BASE_HREF_57="/",this._StorageConfigToken_75=null,this._AppModule_27},e.prototype.getInternal=function(e,t){return e===p.b?this._CommonModule_0:e===i.l?this._ErrorHandler_1:e===x.b?this._ConfigToken_2:e===ie.a?this._PlatformConfigToken_3:e===Z.a?this._Platform_4:e===x.a?this._Config_5:e===g.a?this._DomController_6:e===d.a?this._MenuController_7:e===b.a?this._App_8:e===y.i?this._GestureController_9:e===ne.a?this._DeepLinkConfigToken_10:e===i.i?this._Compiler_11:e===m.a?this._NgModuleLoader_12:e===re.b?this._ModuleLoader_13:e===i.c?this._APP_INITIALIZER_14:e===i.d?this._ApplicationInitStatus_15:e===i._6?this._ɵf_16:e===i.f?this._ApplicationRef_17:e===i.e?this._ApplicationModule_18:e===o.a?this._BrowserModule_19:e===P.j?this._ɵba_20:e===P.d?this._FormsModule_21:e===P.i?this._ReactiveFormsModule_22:e===S.a?this._IonicModule_23:e===C.a?this._AngularFireModule_24:e===r.f?this._HttpModule_25:e===u.a?this._IonicStorageModule_26:e===c?this._AppModule_27:e===i.u?this._LOCALE_ID_28:e===p.j?this._NgLocalization_29:e===i.b?this._APP_ID_30:e===i.s?this._IterableDiffers_31:e===i.t?this._KeyValueDiffers_32:e===o.c?this._DomSanitizer_33:e===i.I?this._Sanitizer_34:e===o.f?this._HAMMER_GESTURE_CONFIG_35:e===o.d?this._EVENT_MANAGER_PLUGINS_36:e===o.e?this._EventManager_37:e===o.n?this._ɵDomSharedStylesHost_38:e===o.m?this._ɵDomRendererFactory2_39:e===i.G?this._RendererFactory2_40:e===o.q?this._ɵSharedStylesHost_41:e===i.N?this._Testability_42:e===o.h?this._Meta_43:e===o.j?this._Title_44:e===P.k?this._ɵi_45:e===P.c?this._FormBuilder_46:e===te.b?this._FirebaseAppConfigToken_47:e===C.c?this._FirebaseAppName_48:e===te.a?this._FirebaseApp_49:e===r.c?this._BrowserXhr_50:e===r.h?this._ResponseOptions_51:e===r.j?this._XSRFStrategy_52:e===r.i?this._XHRBackend_53:e===r.g?this._RequestOptions_54:e===r.e?this._Http_55:e===se.a?this._AppRootToken_56:e===p.a?this._APP_BASE_HREF_57:e===O.a?this._AlertController_59:e===v.a?this._Events_60:e===k.a?this._Form_61:e===w.a?this._Haptic_62:e===j.a?this._Keyboard_63:e===R.a?this._LoadingController_64:e===p.e?this._LocationStrategy_65:e===p.d?this._Location_66:e===ne.b?this._UrlSerializer_67:e===J.a?this._DeepLinker_68:e===M.a?this._ModalController_69:e===T.a?this._PopoverController_71:e===E.a?this._TapClick_72:e===F.a?this._ToastController_73:e===I.a?this._TransitionController_74:e===oe.b?this._StorageConfigToken_75:e===oe.a?this._Storage_76:e===s.a?this._StatusBar_77:e===_.a?this._SplashScreen_78:e===h.a?this._AppServiceProvider_79:e===a.a?this._FirebaseMessagingProvider_80:t},e.prototype.destroyInternal=function(){this._ɵf_16.ngOnDestroy(),this.__ɵDomSharedStylesHost_38&&this._ɵDomSharedStylesHost_38.ngOnDestroy()},e}(i._0),ue=new i.w(le,c);Object(i.T)(),Object(o.k)().bootstrapModuleFactory(ue)},45:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var o,i,r,_,s=n(0),a=n(51),l=n(131),u=n(76),h=n(200),c=(n.n(h),n(66)),p=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,_=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(_=(r<3?i(_):3<r?i(t,n,_):i(t,n))||_);return 3<r&&_&&Object.defineProperty(t,n,_),_},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function e(e,t,n,o){var i=this;this.http=e,this.storage=t,this.app=n,this.appservice=o,this.unsubscribeOnTokenRefresh=function(){},this.currentMessage=new h.BehaviorSubject(null),console.log("Hello FirebaseMessagingProvider Provider"),this.messaging=n.messaging(),navigator.serviceWorker.register("service-worker.js").then(function(e){i.messaging.useServiceWorker(e),console.log("Check for notification permissions ==>",Notification.permission),"granted"==Notification.permission?i.notificationsSubscribed=!0:"denied"!=Notification.permission&&"default"!=Notification.permission||(i.notificationsSubscribed=!1),i.receiveMessage()})}return e.prototype.enableNotifications=function(){var e=this;return console.log("Requesting permission..."),this.messaging.requestPermission().then(function(){return console.log("Permission granted"),e.notificationsSubscribed=!0,e.setupOnTokenRefresh(),e.updateToken()})},e.prototype.disableNotifications=function(){return console.log("inside disableNotifications function"),this.unsubscribeOnTokenRefresh(),this.unsubscribeOnTokenRefresh=function(){console.log("notifications unsubscribed")},this.notificationsSubscribed=!1,this.storage.set("fcmToken","").then()},e.prototype.updateToken=function(){var t=this;return this.messaging.getToken().then(function(e){if(e)return console.log("FCM token : ",e),t.appservice.user_fcm_token=e,t.appservice.storeFcmToken(),t.storage.set("fcmToken",e);console.log("No Instance ID token available. Request permission to generate one.")})},e.prototype.setupOnTokenRefresh=function(){var e=this;this.unsubscribeOnTokenRefresh=this.messaging.onTokenRefresh(function(){console.log("Token refreshed"),e.storage.set("fcmToken","").then(function(){e.updateToken()})})},e.prototype.receiveMessage=function(){var t=this;this.messaging.onMessage(function(e){console.log("Message received. ",e);t.currentMessage.next(e)})},e}();g=p([Object(s.p)(),f("design:paramtypes",["function"==typeof(o=void 0!==a.e&&a.e)&&o||Object,"function"==typeof(i=void 0!==u.b&&u.b)&&i||Object,"function"==typeof(r=void 0!==l.a&&l.a)&&r||Object,"function"==typeof(_=void 0!==c.a&&c.a)&&_||Object])],g)},66:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var o,i,r,_=n(0),c=n(51),s=n(65),a=n(101),l=(n.n(a),n(168)),u=(n.n(l),n(170)),h=(n.n(u),n(172)),p=(n.n(h),n(179)),f=(n.n(p),n(181)),g=(n.n(f),n(183)),d=(n.n(g),this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,_=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(_=(r<3?i(_):3<r?i(t,n,_):i(t,n))||_);return 3<r&&_&&Object.defineProperty(t,n,_),_}),b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(){function e(e,t,n){var o=this;this.http=e,this.toastCtrl=t,this.loadingCtrl=n,this.client_id="676621258132-6q9s2j1hc8343jj3nn75k0is4s1nb893.apps.googleusercontent.com",this.script_id="MD2K4IAXQvDUx9j9i90DKEK-i8ofEvg_L",console.log("Hello AppServiceProvider Provider"),this.handleError=function(e){console.warn("error in request fetch",e),console.log(e.status);var t=o.parseRejectedError(e);return Promise.reject(t)}}return e.prototype.handleClientLoad=function(){console.log("handleClientLoad function");var n=this;return new Promise(function(e,t){gapi.load("client:auth2",function(){gapi.client.init({client_id:n.client_id,cookiepolicy:"single_host_origin",scope:"https://www.googleapis.com/auth/spreadsheets"}).then(function(){console.log(gapi.auth2.getAuthInstance().isSignedIn.get()),gapi.auth2.getAuthInstance().isSignedIn.get()?(console.log("user info =>",gapi.auth2.getAuthInstance().currentUser.get()),n.user_profile_pic=gapi.auth2.getAuthInstance().currentUser.get().w3.Paa,n.bearer_token=gapi.auth2.getAuthInstance().currentUser.get().Zi.access_token,n.user_email=gapi.auth2.getAuthInstance().currentUser.get().w3.U3,n.user_name=gapi.auth2.getAuthInstance().currentUser.get().w3.ig,n.storeFcmToken(),e(!0)):t(!1)}).catch(function(){console.log("Error in login"),t(!1)})})})},e.prototype.signIn=function(){var o=this;return new Promise(function(t,n){gapi.auth2.getAuthInstance().signIn().then(function(e){console.log("signed in"),console.log("user info",e),o.user_profile_pic=gapi.auth2.getAuthInstance().currentUser.get().w3.Paa,o.bearer_token=gapi.auth2.getAuthInstance().currentUser.get().Zi.access_token,o.user_email=gapi.auth2.getAuthInstance().currentUser.get().w3.U3,o.user_name=gapi.auth2.getAuthInstance().currentUser.get().w3.ig,o.storeFcmToken(),t(!0)}).catch(function(e){console.log("Error in google sign function",e),n(!1)})})},e.prototype.request=function(e,t,n,o,i,r){void 0===o&&(o={}),void 0===i&&(i=!1),void 0===r&&(r="promise");var _=new c.d({"Content-Type":"application/json",Authorization:"Bearer "+this.bearer_token});console.log(_);var s,a=Object.keys(o);if(a.length)if(i)_=new c.d(o);else for(var l=0,u=a;l<u.length;l++){var h=u[l];_.append(h,o[h])}return"get"==t?s=this.http.get(e,{headers:_}):"post"==t?s=this.http.post(e,n,{headers:_}):"put"==t&&(s=this.http.put(e,n,{headers:_})),"promise"==r?s.toPromise().then(function(e){return e.json()}).catch(this.handleError):s.map(function(e){return e.json()}).catch(this.handleError)},e.prototype.parseRejectedError=function(t){try{return JSON.parse(t._body)}catch(e){return t}},e.prototype.signOut=function(){return new Promise(function(e,t){gapi.auth2.getAuthInstance().signOut().then(function(){e(!0)}).catch(function(e){t(!1)})})},e.prototype.presentToast=function(e,t,n,o,i,r){void 0===t&&(t="success"),void 0===n&&(n=3e3),void 0===o&&(o=!1),void 0===i&&(i="bottom"),void 0===r&&(r="Got it");var _="";"success"===t?_="toast-success online":"warn"===t?_="toast-warn offline":"error"===t&&(_="toast-fail");var s={message:e,cssClass:_,position:i};o?(s.showCloseButton=!0,s.closeButtonText=r,s.dismissOnPageChange=!1):s.duration=n;var a=this.toastCtrl.create(s);return a.present(),console.log("toasst presented"),a},e.prototype.presentLoader=function(){this.loader=this.loadingCtrl.create({content:"Please wait..."}),this.loader.present()},e.prototype.dismissLoader=function(){this.loader&&this.loader.dismiss()},e.prototype.storeFcmToken=function(){if(console.log("inside store storeFcmToken function"),this.user_fcm_token&&this.user_email&&this.user_name&&this.user_profile_pic){var e="https://us-central1-tuckshop-9efa0.cloudfunctions.net/storeToken",t={name:this.user_name,email:this.user_email,fcm_token:this.user_fcm_token,avatar:this.user_profile_pic},n=new c.d({"Content-Type":"application/json"});console.log("storeFcmToken request ==>",e,t,n),this.request(e,"post",t,n,!0,"promise").then(function(e){console.log("response from store fcm token api ==>",e)}).catch(function(e){console.log("error from storeFcmToken api ==>",e)})}},e}();y=d([Object(_.p)(),b("design:paramtypes",["function"==typeof(o=void 0!==c.e&&c.e)&&o||Object,"function"==typeof(i=void 0!==s.b&&s.b)&&i||Object,"function"==typeof(r=void 0!==s.a&&s.a)&&r||Object])],y)}},[153]);
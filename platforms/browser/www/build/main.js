webpackJsonp([5],{110:function(e,t){function n(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}n.keys=function(){return[]},(e.exports=n.resolve=n).id=110},121:function(e,t,n){var o={"../pages/buy/buy.module.ngfactory":[211,1],"../pages/home/home.module.ngfactory":[212,3],"../pages/search/search.module.ngfactory":[213,0],"../pages/signout/signout.module.ngfactory":[214,4],"../pages/specials/specials.module.ngfactory":[215,2]};function r(e){var t=o[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}r.keys=function(){return Object.keys(o)},r.id=121,e.exports=r},151:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,i,_,s=n(17),a=n(0),l=n(50),u=(n(64),n(61)),h=n(62),c=n(131),p=n(74),f=n(203),g=n(65),d=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,_=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;0<=s;s--)(r=e[s])&&(_=(i<3?r(_):3<i?r(t,n,_):r(t,n))||_);return 3<i&&_&&Object.defineProperty(t,n,_),_},b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(){function e(e,t,n,o){var r=this;this.http=e,this.storage=t,this.app=n,this.appservice=o,this.unsubscribeOnTokenRefresh=function(){},this.currentMessage=new f.BehaviorSubject(null),console.log("Hello FirebaseMessagingProvider Provider"),this.messaging=n.messaging(),navigator.serviceWorker.register("service-worker.js").then(function(e){r.messaging.useServiceWorker(e),r.enableNotifications(),r.receiveMessage()})}return e.prototype.enableNotifications=function(){var e=this;return console.log("Requesting permission..."),this.messaging.requestPermission().then(function(){return console.log("Permission granted"),e.setupOnTokenRefresh(),e.updateToken()})},e.prototype.disableNotifications=function(){return this.unsubscribeOnTokenRefresh(),this.unsubscribeOnTokenRefresh=function(){},this.storage.set("fcmToken","").then()},e.prototype.updateToken=function(){var t=this;return this.messaging.getToken().then(function(e){if(e)return console.log("FCM token : ",e),t.appservice.user_fcm_token=e,t.appservice.storeFcmToken(),t.storage.set("fcmToken",e);console.log("No Instance ID token available. Request permission to generate one.")})},e.prototype.setupOnTokenRefresh=function(){var e=this;this.unsubscribeOnTokenRefresh=this.messaging.onTokenRefresh(function(){console.log("Token refreshed"),e.storage.set("fcmToken","").then(function(){e.updateToken()})})},e.prototype.receiveMessage=function(){var t=this;this.messaging.onMessage(function(e){console.log("Message received. ",e),t.currentMessage.next(e)})},e}();y=d([Object(a.p)(),b("design:paramtypes",["function"==typeof(o=void 0!==l.e&&l.e)&&o||Object,"function"==typeof(r=void 0!==p.b&&p.b)&&r||Object,"function"==typeof(i=void 0!==c.a&&c.a)&&i||Object,"function"==typeof(_=void 0!==g.a&&g.a)&&_||Object])],y);var m=function(){return function(e,t,n,o){this.rootPage="home",e.ready().then(function(){t.styleDefault(),n.hide()})}}(),P=(n(204),function(){return function(){}}()),S=n(13),C=n(129),v=n(10),O=n(38),A=n(8),k=n(5),w=n(81),j=n(21),R=n(90),M=n(132),T=n(83),E=n(82),F=n(16),I=n(56),D=n(44),L=n(70),H=n(71),N=n(73),B=n(85),U=n(68),z=n(24),G=n(141),X=n(142),q=n(143),K=n(144),V=n(145),x=n(146),Z=n(147),J=n(148),W=n(210),Q=n(57),Y=n(3),$=n(20),ee=n(1),te=n(4),ne=n(14),oe=n(40),re=a._3({encapsulation:2,styles:[],data:{}});function ie(e){return a._25(0,[(e()(),a._5(0,null,null,2,"ion-nav",[],null,null,null,W.b,W.a)),a._4(4374528,null,0,Q.a,[[2,Y.a],[2,$.a],A.a,ee.a,te.a,a.k,a.z,a.F,a.j,k.i,z.a,[2,ne.a],v.a,a.l],{root:[0,"root"]},null),a._21(6144,null,oe.a,null,[Q.a]),(e()(),a._24(null,["\n"]))],function(e,t){e(t,1,0,t.component.rootPage)},null)}var _e,se=a._2("ng-component",m,function(e){return a._25(0,[(e()(),a._5(0,null,null,1,"ng-component",[],null,null,null,ie,re)),a._4(49152,null,0,m,[te.a,h.a,u.a,y],null,null)],null,null)},{},{},[]),ae=n(133),le=n(51),ue=n(101),he=n(84),ce=n(26),pe=n(86),fe=n(36),ge=this&&this.__extends||(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}_e(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),de=function(t){function e(e){return t.call(this,e,[G.a,X.a,q.a,K.a,V.a,x.a,Z.a,J.a,se],[q.a])||this}return ge(e,t),Object.defineProperty(e.prototype,"_LOCALE_ID_28",{get:function(){return null==this.__LOCALE_ID_28&&(this.__LOCALE_ID_28=a._16(this.parent.get(a.u,null))),this.__LOCALE_ID_28},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_NgLocalization_29",{get:function(){return null==this.__NgLocalization_29&&(this.__NgLocalization_29=new S.i(this._LOCALE_ID_28)),this.__NgLocalization_29},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_APP_ID_30",{get:function(){return null==this.__APP_ID_30&&(this.__APP_ID_30=a._7()),this.__APP_ID_30},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_IterableDiffers_31",{get:function(){return null==this.__IterableDiffers_31&&(this.__IterableDiffers_31=a._13()),this.__IterableDiffers_31},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_KeyValueDiffers_32",{get:function(){return null==this.__KeyValueDiffers_32&&(this.__KeyValueDiffers_32=a._15()),this.__KeyValueDiffers_32},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_DomSanitizer_33",{get:function(){return null==this.__DomSanitizer_33&&(this.__DomSanitizer_33=new s.s(this.parent.get(s.b))),this.__DomSanitizer_33},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Sanitizer_34",{get:function(){return null==this.__Sanitizer_34&&(this.__Sanitizer_34=this._DomSanitizer_33),this.__Sanitizer_34},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_HAMMER_GESTURE_CONFIG_35",{get:function(){return null==this.__HAMMER_GESTURE_CONFIG_35&&(this.__HAMMER_GESTURE_CONFIG_35=new T.a),this.__HAMMER_GESTURE_CONFIG_35},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_EVENT_MANAGER_PLUGINS_36",{get:function(){return null==this.__EVENT_MANAGER_PLUGINS_36&&(this.__EVENT_MANAGER_PLUGINS_36=[new s.l(this.parent.get(s.b)),new s.p(this.parent.get(s.b)),new s.o(this.parent.get(s.b),this._HAMMER_GESTURE_CONFIG_35)]),this.__EVENT_MANAGER_PLUGINS_36},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_EventManager_37",{get:function(){return null==this.__EventManager_37&&(this.__EventManager_37=new s.e(this._EVENT_MANAGER_PLUGINS_36,this.parent.get(a.z))),this.__EventManager_37},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵDomSharedStylesHost_38",{get:function(){return null==this.__ɵDomSharedStylesHost_38&&(this.__ɵDomSharedStylesHost_38=new s.n(this.parent.get(s.b))),this.__ɵDomSharedStylesHost_38},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵDomRendererFactory2_39",{get:function(){return null==this.__ɵDomRendererFactory2_39&&(this.__ɵDomRendererFactory2_39=new s.m(this._EventManager_37,this._ɵDomSharedStylesHost_38)),this.__ɵDomRendererFactory2_39},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_RendererFactory2_40",{get:function(){return null==this.__RendererFactory2_40&&(this.__RendererFactory2_40=this._ɵDomRendererFactory2_39),this.__RendererFactory2_40},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵSharedStylesHost_41",{get:function(){return null==this.__ɵSharedStylesHost_41&&(this.__ɵSharedStylesHost_41=this._ɵDomSharedStylesHost_38),this.__ɵSharedStylesHost_41},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Testability_42",{get:function(){return null==this.__Testability_42&&(this.__Testability_42=new a.N(this.parent.get(a.z))),this.__Testability_42},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Meta_43",{get:function(){return null==this.__Meta_43&&(this.__Meta_43=new s.h(this.parent.get(s.b))),this.__Meta_43},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Title_44",{get:function(){return null==this.__Title_44&&(this.__Title_44=new s.j(this.parent.get(s.b))),this.__Title_44},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵi_45",{get:function(){return null==this.__ɵi_45&&(this.__ɵi_45=new j.k),this.__ɵi_45},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_FormBuilder_46",{get:function(){return null==this.__FormBuilder_46&&(this.__FormBuilder_46=new j.c),this.__FormBuilder_46},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_FirebaseApp_49",{get:function(){return null==this.__FirebaseApp_49&&(this.__FirebaseApp_49=ae.c(this._FirebaseAppConfigToken_47,this._FirebaseAppName_48)),this.__FirebaseApp_49},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_BrowserXhr_50",{get:function(){return null==this.__BrowserXhr_50&&(this.__BrowserXhr_50=new l.c),this.__BrowserXhr_50},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ResponseOptions_51",{get:function(){return null==this.__ResponseOptions_51&&(this.__ResponseOptions_51=new l.b),this.__ResponseOptions_51},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_XSRFStrategy_52",{get:function(){return null==this.__XSRFStrategy_52&&(this.__XSRFStrategy_52=l.k()),this.__XSRFStrategy_52},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_XHRBackend_53",{get:function(){return null==this.__XHRBackend_53&&(this.__XHRBackend_53=new l.i(this._BrowserXhr_50,this._ResponseOptions_51,this._XSRFStrategy_52)),this.__XHRBackend_53},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_RequestOptions_54",{get:function(){return null==this.__RequestOptions_54&&(this.__RequestOptions_54=new l.a),this.__RequestOptions_54},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Http_55",{get:function(){return null==this.__Http_55&&(this.__Http_55=l.l(this._XHRBackend_53,this._RequestOptions_54)),this.__Http_55},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Events_60",{get:function(){return null==this.__Events_60&&(this.__Events_60=new E.a),this.__Events_60},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Form_61",{get:function(){return null==this.__Form_61&&(this.__Form_61=new F.a),this.__Form_61},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Haptic_62",{get:function(){return null==this.__Haptic_62&&(this.__Haptic_62=new I.a(this._Platform_4)),this.__Haptic_62},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Keyboard_63",{get:function(){return null==this.__Keyboard_63&&(this.__Keyboard_63=new D.a(this._Config_5,this._Platform_4,this.parent.get(a.z),this._DomController_6)),this.__Keyboard_63},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_LoadingController_64",{get:function(){return null==this.__LoadingController_64&&(this.__LoadingController_64=new L.a(this._App_8,this._Config_5)),this.__LoadingController_64},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_LocationStrategy_65",{get:function(){return null==this.__LocationStrategy_65&&(this.__LocationStrategy_65=R.c(this.parent.get(S.p),this._APP_BASE_HREF_57,this._Config_5)),this.__LocationStrategy_65},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Location_66",{get:function(){return null==this.__Location_66&&(this.__Location_66=new S.d(this._LocationStrategy_65)),this.__Location_66},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_UrlSerializer_67",{get:function(){return null==this.__UrlSerializer_67&&(this.__UrlSerializer_67=le.d(this._App_8,this._DeepLinkConfigToken_10)),this.__UrlSerializer_67},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_DeepLinker_68",{get:function(){return null==this.__DeepLinker_68&&(this.__DeepLinker_68=ne.b(this._App_8,this._UrlSerializer_67,this._Location_66,this._ModuleLoader_13,this.componentFactoryResolver)),this.__DeepLinker_68},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ModalController_69",{get:function(){return null==this.__ModalController_69&&(this.__ModalController_69=new H.a(this._App_8,this._Config_5,this._DeepLinker_68)),this.__ModalController_69},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_PopoverController_71",{get:function(){return null==this.__PopoverController_71&&(this.__PopoverController_71=new N.a(this._App_8,this._Config_5,this._DeepLinker_68)),this.__PopoverController_71},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_TapClick_72",{get:function(){return null==this.__TapClick_72&&(this.__TapClick_72=new B.a(this._Config_5,this._Platform_4,this._DomController_6,this._App_8,this._GestureController_9)),this.__TapClick_72},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ToastController_73",{get:function(){return null==this.__ToastController_73&&(this.__ToastController_73=new U.a(this._App_8,this._Config_5)),this.__ToastController_73},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_TransitionController_74",{get:function(){return null==this.__TransitionController_74&&(this.__TransitionController_74=new z.a(this._Platform_4,this._Config_5)),this.__TransitionController_74},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Storage_76",{get:function(){return null==this.__Storage_76&&(this.__Storage_76=ue.c(this._StorageConfigToken_75)),this.__Storage_76},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_StatusBar_77",{get:function(){return null==this.__StatusBar_77&&(this.__StatusBar_77=new h.a),this.__StatusBar_77},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_SplashScreen_78",{get:function(){return null==this.__SplashScreen_78&&(this.__SplashScreen_78=new u.a),this.__SplashScreen_78},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_AppServiceProvider_79",{get:function(){return null==this.__AppServiceProvider_79&&(this.__AppServiceProvider_79=new g.a(this._Http_55,this._ToastController_73,this._LoadingController_64)),this.__AppServiceProvider_79},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_FirebaseMessagingProvider_80",{get:function(){return null==this.__FirebaseMessagingProvider_80&&(this.__FirebaseMessagingProvider_80=new y(this._Http_55,this._Storage_76,this._FirebaseApp_49,this._AppServiceProvider_79)),this.__FirebaseMessagingProvider_80},enumerable:!0,configurable:!0}),e.prototype.createInternal=function(){return this._CommonModule_0=new S.b,this._ErrorHandler_1=new C.a,this._ConfigToken_2=null,this._PlatformConfigToken_3=he.b(),this._Platform_4=te.b(this.parent.get(s.b),this._PlatformConfigToken_3,this.parent.get(a.z)),this._Config_5=ee.c(this._ConfigToken_2,this._Platform_4),this._DomController_6=new v.a(this._Platform_4),this._MenuController_7=new O.a,this._App_8=new A.a(this._Config_5,this._Platform_4,this._MenuController_7),this._GestureController_9=new k.i(this._App_8),this._DeepLinkConfigToken_10={links:[{loadChildren:"../pages/buy/buy.module.ngfactory#BuyPageModuleNgFactory",name:"BuyPage",segment:"buy",priority:"low",defaultHistory:[]},{loadChildren:"../pages/home/home.module.ngfactory#HomePageModuleNgFactory",name:"home",segment:"home",priority:"low",defaultHistory:[]},{loadChildren:"../pages/search/search.module.ngfactory#SearchPageModuleNgFactory",name:"SearchPage",segment:"search/:code",priority:"low",defaultHistory:[]},{loadChildren:"../pages/signout/signout.module.ngfactory#BuyPageModuleNgFactory",name:"SignoutPage",segment:"signout",priority:"low",defaultHistory:[]},{loadChildren:"../pages/specials/specials.module.ngfactory#SpecialsPageModuleNgFactory",name:"SpecialsPage",segment:"specials",priority:"low",defaultHistory:[]}]},this._Compiler_11=new a.i,this._NgModuleLoader_12=new w.a(this._Compiler_11),this._ModuleLoader_13=ce.c(this._NgModuleLoader_12,this),this._APP_INITIALIZER_14=[a._19,s.r(this.parent.get(s.i,null),this.parent.get(a.y,null)),pe.a(this._Config_5),E.b(this._Platform_4,this._DomController_6),B.b(this._Config_5,this._Platform_4,this._DomController_6,this._App_8,this._GestureController_9),ce.d(this._Config_5,this._DeepLinkConfigToken_10,this._ModuleLoader_13,this.parent.get(a.z))],this._ApplicationInitStatus_15=new a.d(this._APP_INITIALIZER_14),this._ɵf_16=new a._6(this.parent.get(a.z),this.parent.get(a.Z),this,this._ErrorHandler_1,this.componentFactoryResolver,this._ApplicationInitStatus_15),this._ApplicationRef_17=this._ɵf_16,this._ApplicationModule_18=new a.e(this._ApplicationRef_17),this._BrowserModule_19=new s.a(this.parent.get(s.a,null)),this._ɵba_20=new j.j,this._FormsModule_21=new j.d,this._ReactiveFormsModule_22=new j.i,this._IonicModule_23=new R.a,this._AngularFireModule_24=new M.a,this._HttpModule_25=new l.f,this._IonicStorageModule_26=new p.a,this._AppModule_27=new P,this._FirebaseAppConfigToken_47={apiKey:"AIzaSyDM8j00pSlfGnw9hEtkYHks5M9fek_lm5U",authDomain:"tuckshop-9efa0.firebaseapp.com",databaseURL:"https://tuckshop-9efa0.firebaseio.com",projectId:"tuckshop-9efa0",storageBucket:"",messagingSenderId:"925518089689"},this._FirebaseAppName_48=void 0,this._AppRootToken_56=m,this._APP_BASE_HREF_57="/",this._StorageConfigToken_75=null,this._AppModule_27},e.prototype.getInternal=function(e,t){return e===S.b?this._CommonModule_0:e===a.l?this._ErrorHandler_1:e===ee.b?this._ConfigToken_2:e===he.a?this._PlatformConfigToken_3:e===te.a?this._Platform_4:e===ee.a?this._Config_5:e===v.a?this._DomController_6:e===O.a?this._MenuController_7:e===A.a?this._App_8:e===k.i?this._GestureController_9:e===le.a?this._DeepLinkConfigToken_10:e===a.i?this._Compiler_11:e===w.a?this._NgModuleLoader_12:e===ce.b?this._ModuleLoader_13:e===a.c?this._APP_INITIALIZER_14:e===a.d?this._ApplicationInitStatus_15:e===a._6?this._ɵf_16:e===a.f?this._ApplicationRef_17:e===a.e?this._ApplicationModule_18:e===s.a?this._BrowserModule_19:e===j.j?this._ɵba_20:e===j.d?this._FormsModule_21:e===j.i?this._ReactiveFormsModule_22:e===R.a?this._IonicModule_23:e===M.a?this._AngularFireModule_24:e===l.f?this._HttpModule_25:e===p.a?this._IonicStorageModule_26:e===P?this._AppModule_27:e===a.u?this._LOCALE_ID_28:e===S.j?this._NgLocalization_29:e===a.b?this._APP_ID_30:e===a.s?this._IterableDiffers_31:e===a.t?this._KeyValueDiffers_32:e===s.c?this._DomSanitizer_33:e===a.I?this._Sanitizer_34:e===s.f?this._HAMMER_GESTURE_CONFIG_35:e===s.d?this._EVENT_MANAGER_PLUGINS_36:e===s.e?this._EventManager_37:e===s.n?this._ɵDomSharedStylesHost_38:e===s.m?this._ɵDomRendererFactory2_39:e===a.G?this._RendererFactory2_40:e===s.q?this._ɵSharedStylesHost_41:e===a.N?this._Testability_42:e===s.h?this._Meta_43:e===s.j?this._Title_44:e===j.k?this._ɵi_45:e===j.c?this._FormBuilder_46:e===ae.b?this._FirebaseAppConfigToken_47:e===M.c?this._FirebaseAppName_48:e===ae.a?this._FirebaseApp_49:e===l.c?this._BrowserXhr_50:e===l.h?this._ResponseOptions_51:e===l.j?this._XSRFStrategy_52:e===l.i?this._XHRBackend_53:e===l.g?this._RequestOptions_54:e===l.e?this._Http_55:e===fe.a?this._AppRootToken_56:e===S.a?this._APP_BASE_HREF_57:e===E.a?this._Events_60:e===F.a?this._Form_61:e===I.a?this._Haptic_62:e===D.a?this._Keyboard_63:e===L.a?this._LoadingController_64:e===S.e?this._LocationStrategy_65:e===S.d?this._Location_66:e===le.b?this._UrlSerializer_67:e===ne.a?this._DeepLinker_68:e===H.a?this._ModalController_69:e===N.a?this._PopoverController_71:e===B.a?this._TapClick_72:e===U.a?this._ToastController_73:e===z.a?this._TransitionController_74:e===ue.b?this._StorageConfigToken_75:e===ue.a?this._Storage_76:e===h.a?this._StatusBar_77:e===u.a?this._SplashScreen_78:e===g.a?this._AppServiceProvider_79:e===y?this._FirebaseMessagingProvider_80:t},e.prototype.destroyInternal=function(){this._ɵf_16.ngOnDestroy(),this.__ɵDomSharedStylesHost_38&&this._ɵDomSharedStylesHost_38.ngOnDestroy()},e}(a._0),be=new a.w(de,P);Object(a.T)(),Object(s.k)().bootstrapModuleFactory(be)},65:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var o,r,i,_=n(0),c=n(50),s=n(64),a=n(98),l=(n.n(a),n(166)),u=(n.n(l),n(168)),h=(n.n(u),n(170)),p=(n.n(h),n(177)),f=(n.n(p),n(179)),g=(n.n(f),n(181)),d=(n.n(g),this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,_=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;0<=s;s--)(r=e[s])&&(_=(i<3?r(_):3<i?r(t,n,_):r(t,n))||_);return 3<i&&_&&Object.defineProperty(t,n,_),_}),b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(){function e(e,t,n){var o=this;this.http=e,this.toastCtrl=t,this.loadingCtrl=n,this.client_id="676621258132-6q9s2j1hc8343jj3nn75k0is4s1nb893.apps.googleusercontent.com",this.script_id="MD2K4IAXQvDUx9j9i90DKEK-i8ofEvg_L",console.log("Hello AppServiceProvider Provider"),this.handleError=function(e){console.warn("error in request fetch",e),console.log(e.status);var t=o.parseRejectedError(e);return Promise.reject(t)}}return e.prototype.handleClientLoad=function(){console.log("handleClientLoad function");var n=this;return new Promise(function(e,t){gapi.load("client:auth2",function(){gapi.client.init({client_id:n.client_id,cookiepolicy:"single_host_origin",scope:"https://www.googleapis.com/auth/spreadsheets"}).then(function(){console.log(gapi.auth2.getAuthInstance().isSignedIn.get()),gapi.auth2.getAuthInstance().isSignedIn.get()?(console.log("user info =>",gapi.auth2.getAuthInstance().currentUser.get()),n.user_profile_pic=gapi.auth2.getAuthInstance().currentUser.get().w3.Paa,n.bearer_token=gapi.auth2.getAuthInstance().currentUser.get().Zi.access_token,n.user_email=gapi.auth2.getAuthInstance().currentUser.get().w3.U3,n.user_name=gapi.auth2.getAuthInstance().currentUser.get().w3.ig,n.storeFcmToken(),e(!0)):t(!1)}).catch(function(){console.log("Error in login"),t(!1)})})})},e.prototype.signIn=function(){var o=this;return new Promise(function(t,n){gapi.auth2.getAuthInstance().signIn().then(function(e){console.log("signed in"),console.log("user info",e),o.user_profile_pic=gapi.auth2.getAuthInstance().currentUser.get().w3.Paa,o.bearer_token=gapi.auth2.getAuthInstance().currentUser.get().Zi.access_token,o.user_email=gapi.auth2.getAuthInstance().currentUser.get().w3.U3,o.user_name=gapi.auth2.getAuthInstance().currentUser.get().w3.ig,o.storeFcmToken(),t(!0)}).catch(function(e){console.log("Error in google sign function",e),n(!1)})})},e.prototype.request=function(e,t,n,o,r,i){void 0===o&&(o={}),void 0===r&&(r=!1),void 0===i&&(i="promise");var _=new c.d({"Content-Type":"application/json",Authorization:"Bearer "+this.bearer_token});console.log(_);var s,a=Object.keys(o);if(a.length)if(r)_=new c.d(o);else for(var l=0,u=a;l<u.length;l++){var h=u[l];_.append(h,o[h])}return"get"==t?s=this.http.get(e,{headers:_}):"post"==t?s=this.http.post(e,n,{headers:_}):"put"==t&&(s=this.http.put(e,n,{headers:_})),"promise"==i?s.toPromise().then(function(e){return e.json()}).catch(this.handleError):s.map(function(e){return e.json()}).catch(this.handleError)},e.prototype.parseRejectedError=function(t){try{return JSON.parse(t._body)}catch(e){return t}},e.prototype.signOut=function(){return new Promise(function(e,t){gapi.auth2.getAuthInstance().signOut().then(function(){e(!0)}).catch(function(e){t(!1)})})},e.prototype.presentToast=function(e,t,n,o,r,i){void 0===t&&(t="success"),void 0===n&&(n=3e3),void 0===o&&(o=!1),void 0===r&&(r="bottom"),void 0===i&&(i="Got it");var _="";"success"===t?_="toast-success online":"warn"===t?_="toast-warn offline":"error"===t&&(_="toast-fail");var s={message:e,cssClass:_,position:r};o?(s.showCloseButton=!0,s.closeButtonText=i,s.dismissOnPageChange=!1):s.duration=n;var a=this.toastCtrl.create(s);return a.present(),console.log("toasst presented"),a},e.prototype.presentLoader=function(){this.loader=this.loadingCtrl.create({content:"Please wait..."}),this.loader.present()},e.prototype.dismissLoader=function(){this.loader&&this.loader.dismiss()},e.prototype.storeFcmToken=function(){if(console.log("inside store storeFcmToken function"),this.user_fcm_token&&this.user_email&&this.user_name&&this.user_profile_pic){var e="https://us-central1-tuckshop-9efa0.cloudfunctions.net/storeToken",t={name:this.user_name,email:this.user_email,fcm_token:this.user_fcm_token,avatar:this.user_profile_pic},n=new c.d({"Content-Type":"application/json"});console.log("storeFcmToken request ==>",e,t,n),this.request(e,"post",t,n,!0,"promise").then(function(e){console.log("response from store fcm token api ==>",e)}).catch(function(e){console.log("error from storeFcmToken api ==>",e)})}},e}();y=d([Object(_.p)(),b("design:paramtypes",["function"==typeof(o=void 0!==c.e&&c.e)&&o||Object,"function"==typeof(r=void 0!==s.b&&s.b)&&r||Object,"function"==typeof(i=void 0!==s.a&&s.a)&&i||Object])],y)}},[151]);
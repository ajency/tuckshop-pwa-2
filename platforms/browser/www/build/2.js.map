{"version":3,"sources":["../../src/pages/search/search.module.ts","../../src/pages/search/search.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SearchPage } from './search';\n\n@NgModule({\n  declarations: [\n    SearchPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SearchPage),\n  ],\n  exports: [\n    SearchPage\n  ]\n})\nexport class SearchPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.module.ts","import { Component, NgZone } from '@angular/core';\nimport { NavController, NavParams, ViewController, ModalController, ToastController, PopoverController, IonicPage } from 'ionic-angular';\nimport 'rxjs/add/operator/map';\nimport { AppServiceProvider } from '../../providers/app-service/app-service';\n\nimport { Storage } from '@ionic/storage';\nimport { PlatformLocation, Location } from '@angular/common';\n\n\n@IonicPage({\n  name : 'SearchPage',\n  segment : 'search/:code' \n})\n@Component({\n  selector: 'page-search',\n  templateUrl: 'search.html',\n})\nexport class SearchPage {\n\n\n\tprivate loadingItems: any;\n\t// private loadResults = false;\n\tprivate loadError = false;\n\n\tprivate response: any;\n  private items : any;\n  private items1 : any;\n\n  // private data : any;\n\tpublic auth2: any;\n\n  myInput : string = '';\n  private image : any;\n  public check = true;\n  private code : any;\n  private loc : any;\n  private itemfound : boolean;\n  types = [];\n\n\tconstructor(private popoverCtrl: PopoverController,\n              public navCtrl: NavController,\n              public zone: NgZone,\n              public navParams: NavParams,\n              private viewCtrl: ViewController,\n              public modalCtrl: ModalController,\n              public toastCtrl: ToastController,\n              public storage: Storage,\n              l : PlatformLocation,\n              location : Location,\n              public appservice : AppServiceProvider) {\n    this.code = this.navParams.get('code');\n    console.log(this.code);\n    this.loc = l;\n\t}\n  ngOnInit(){\n    console.log(\"ngOnInit search page\");\n    this.storage.get('this.data').then((data) => {        \n      this.items = data;  \n      this.items1 =data;\n      if(data){\n          this.findTypes(data);\n          setTimeout(()=>{\n            document.getElementById('All').classList.add('active');\n          },100)\n      }\n      else{\n        this.loadingItems = true;\n      }        \n\n     // If the url contains the item code i.e. if it is not empty check for the item code \n     // in the locally stored data\n      if(this.code != \"\"){\n        if(this.items!=null){\n          for (let i of this.items) {\n             if(i.itemCode==this.code){\n                console.log(\"item found\");\n                this.confirmPurchase(i);\n                this.itemfound = true;\n                break;\n             }\n\n          }\n        }\n        if(!this.itemfound){\n          console.log('item not found in local storage');\n          // this.handleClientLoad();\n          this.callScriptFunction(\"\");\n          this.searchingdb();\n          this.loadingItems = true;\n        }\n\n           // If the item is not found create a toast saying item not found \n      }\n\n      });\n\n      if(this.code == \"\"){\n        console.log('item code is null', this.code);\n        // this.handleClientLoad();  // Function to authenticate user\n        this.callScriptFunction(\"\");\n      }\n  }\n\n  ionViewCanEnter() : Promise<boolean>{\n    console.log(\"ionViewCanEnter search page\");\n    return new Promise((resolve, reject)=>{\n      this.appservice.handleClientLoad().then((res)=>{\n        console.log(\"response from handleClientLoad \", res);\n        resolve(true);\n      })\n      .catch((error)=>{        \n        reject(false);\n        this.navCtrl.setRoot('home');\n        console.log(\"error from handleClientLoad\", error);\n      })\n    })\n  }\n\n\tionViewDidLoad() {\n\t\tconsole.log('ionViewDidLoad SearchPage check1');\n  }\n\n\n\tionViewWillEnter() {\n    console.log('ionViewWillEnter SearchPage check');\n\n\t\tthis.viewCtrl.showBackButton(false);\n\t}\n\n\terrorToast() {\n      console.log('errorToast function');\n\n\t    let toast = this.toastCtrl.create({\n\t      message: 'Something went wrong! Please try again.',\n\t      showCloseButton: true,\n\t      closeButtonText: \"OK\",\n\t      dismissOnPageChange: true\n\t    });\n\t    toast.present();\n\t}\n\n  itemnotfoundToast(){\n    let toast = this.toastCtrl.create({\n        message: 'Item not found',\n        duration: 3000,\n        position: 'bottom'\n      });\n\n\n    toast.present();\n\n  }\n\n  searchingdb(){\n    let toast = this.toastCtrl.create({\n        message: 'Item not found on local storage...fetching from the server...Please wait..',\n        duration: 4000,\n        position: 'bottom'\n      });\n\n\n    toast.present();\n\n  }\n\n//search and display part\n\ncallScriptFunction(refresher) {\n\n\tthis.loadError = false;\n\tconsole.log(\"callScriptFunction\");\n\n  // Get the profile image of the user\n  this.image = this.appservice.user_profile_pic\n  console.log(this.image);\n\n  let that = this;\n  var request;\n  // Create execution request.\n  if(that.code == \"\"){\n    console.log('youll get all results' );\n    request = {\n      'function': 'search',\n      'parameters': \"\"\n      };\n  }\n  else if(refresher == \"\"){\n    console.log('only one result');\n    request = {\n          'function': 'search',\n          'parameters': that.code\n      };\n\n  }\n  else{\n    console.log('youll get all resultsss' );\n      request = {\n          'function': 'search',\n          'parameters': \"\"\n      };\n  }\n      // Make the request.\n  let url = `https://content-script.googleapis.com/v1/scripts/${this.appservice.script_id}:run`\n\n  this.appservice.request(url,'post',request,{},false,'promise').then((res)=>{\n    console.log(\"response from search api ==>\", res);\n    this.processResponse(res);\n    if (refresher!=\"\"){\n      refresher.complete();\n      console.log(\"referesh complete\");\n    }\n  })\n  .catch((error)=>{\n    console.log(\"error from search api\", error);\n    if (refresher!=\"\"){\n      refresher.complete();\n    }\n    this.loadingItems = false;\n    this.requestFailedToast();\n  })\n}\n\nrequestFailedToast() {\n  let toast = this.toastCtrl.create({\n    message: 'Request failed!   Please check your internet connection',\n    position: 'bottom',\n    showCloseButton : true\n  });\n\n\n  toast.present();\n}\n\nprocessResponse(resp: any) {\n  //  store the respose in items1\n\n  this.response = resp.response.result;\n\n  //  If data is not present in local storage store repsonse in items\n  if(!this.items){\n      this.items = this.response;\n      setTimeout(()=>{\n            document.getElementById('All').classList.add('active');\n      },100)\n  } \n\n  this.findTypes(this.response);\n\n  //  Function to store the data locally i.e. in cache\n  if(Object.keys(this.response).length ==1){\n    this.confirmPurchase(this.response[0]);\n    this.loadingItems = false;\n  }\n\n  // To avoid only one item or no item to be stored in items1 and local storage\n  if(Object.keys(this.response).length !=1 && Object.keys(this.response).length !=0){\n      this.items1 = this.response;\n      this.storage.set('this.data', this.items1).then( () => {\n        console.log(\"storage set function\");\n      });\n  }\n  if(Object.keys(this.response).length ==0){\n    // If there is no response set loadError to true\n    if(Object.keys(this.response).length !=0){\n      this.loadError = true;\n    }   \n    this.itemnotfoundToast();\n  }\n\n  this.loadingItems = false;\n  this.zone.run(() => {});\n\n}\n\nconfirmPurchase(item) {\n    console.log(\"inside confirmPurchase\", item);\n\t\tlet product = [];\n\t\tproduct = item;\n\t\tlet modal = this.modalCtrl.create('BuyPage',{item: product});\n\t\tconsole.log(item.itemName);\n\t\tmodal.present();\n\n    // change the URL based on the item clicked\n    var stateObj = [];\n    this.loc.pushState(stateObj, \"BuyPage\", \"/#/search/\" + item.itemCode);\n    this.zone.run(() => {});\n}\n\nonCancel(){\n\t\tconsole.log(\"cancel button\");\n}\n\npublic callFilter(){\n    // console.log(this.items);\n    // console.log(this.items1);\n  console.log(\"inside filter function\");\n  this.loadError = false;\n  console.log(this.myInput);\n  //if the value is an empty string don't filter the items\n  for(let i=0;i<this.types.length;i++){\n    document.getElementById(this.types[i]).classList.remove(\"active\");\n  }\n  document.getElementById('All').classList.add('active');\n  if (this.myInput && this.myInput.trim() != '') {\n    this.items = this.items1.filter((i) => {\n       return (i.itemName.toLowerCase().indexOf(this.myInput.toLowerCase()) > -1);\n    });\n\n    console.log(this.items);\n    if(Object.keys(this.items).length ==0){\n        this.loadError = true;\n    }\n  }\n  else{\n    this.items = this.items1;\n  }\n\n  this.zone.run(() => {});\n}\n\n\n\n  presentPopover(ev) {\n    let popover = this.popoverCtrl.create('SignoutPage', {\n    });\n    popover.present({\n      ev: ev\n    });\n  }\n\n  findTypes(data){\n    console.log(\"inside findTypes function\");\n    var flags = [], output = [\"All\"];\n    for(let i=0;i<data.length;i++){\n      if( flags[data[i].type]) continue;\n      flags[data[i].type]=true;\n      output.push(data[i].type);\n    }\n    this.types = output;\n    console.log(\"types ===>\", this.types)\n  }\n\n  filterItems(type){\n    console.log(\"inside filterItems function\", type);    \n    for(let i=0;i<this.types.length;i++){\n      document.getElementById(this.types[i]).classList.remove(\"active\");\n    }\n    document.getElementById(type).classList.add(\"active\");\n    if(type == 'All'){\n      this.items = this.items1;\n    }\n    else{\n      this.items = this.items1.filter((item)=>{\n        return item.type == type;\n      })\n    }    \n  }\n\n\n\n}\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.ts"],"sourceRoot":""}
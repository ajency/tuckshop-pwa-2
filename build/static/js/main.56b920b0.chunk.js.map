{"version":3,"sources":["components/orders/orders.js","components/firebase/firebase.js","components/header/header.js","components/list-page/search-bar.js","components/list-page/filters.js","components/list-page/item.js","components/list-page/item-modal.js","components/list-page/list-page.js","components/home/home.js","components/specials/specials.js","components/stocks-summary/confirmation_modal.js","components/stocks-summary/stocks.js","App.js","serviceWorker.js","index.js","assets/img/tuckshop.jpg"],"names":["cancel","firebaseApp","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","clientId","scopes","Header","props","auth","currentUser","state","userInfo","name","displayName","email","photoURL","popover","this","ref","trigger","className","rootClose","placement","overlay","id","Title","as","Content","to","onClick","googleLogout","variant","src","width","expand","Brand","signOut","then","window","history","replaceState","console","log","catch","error","Component","SearchBar","handleChange","bind","size","type","placeholder","onChange","event","onSearchChange","target","value","Filters","filterBtns","filters","map","filter","isSelected","key","onFilterSelect","Item","item","item_code","handleClick","item_name","price","ItemModal","apiEndpoint","quantity","onQantityChange","setState","show","showModal","onHide","handleModalClose","Body","Footer","buyItem","showLoaderToast","url","body","user_email","parseInt","uid","status","axios","post","res","data","message_code","orderSuccess","orderFailure","List","items","isLoaded","itemsCopy","itemTypes","modalItem","searchText","selectedFilter","itemCode","fetchItems","path","location","pathname","includes","split","listContainer","length","handleItemClick","searchItem","filterItems","hideProgressBar","closeOnClick","position","toast","POSITION","BOTTOM_CENTER","render","showOrderSuccessToast","showOrderFailureToast","dismiss","autoClose","get","buyable","in_stock","stock","sort","sortItems","temp","i","push","splice","concat","findItem","findTypes","find","trim","toLowerCase","indexOf","setSelectedFilter","forEach","flags","a","b","moment","require","CancelToken","Orders","decreaseMonth","prevState","month","subtract","filterByMonth","increaseMonth","add","clone","fetchOrders","orders","loading","pickAMonth","React","createRef","order","created","_nanoseconds","Date","date","toLocaleDateString","item_price","total","orderContainer","striped","bordered","hover","tableBody","format","disabled","getMonthlyTotal","mm","getMonth","yyyy","getFullYear","next_mm","next_yyyy","start_date","end_date","cancelToken","c","_seconds","provider","GoogleAuthProvider","addScope","Home","isLoggedIn","isAuthenticationChecked","onAuthStateChanged","user","btnContent","pageContent","singInWithGoogle","logo","alt","signInWithPopup","result","credential","accessToken","Specials","specialsOrders","closeRequestInProgress","setInterval","special","title","closeSpecialOrder","getUserImage","animation","getDate","special_orders","groupByItem","array","grouped_obj","reduce","objectsByKeyValue","obj","grouped_array","ConfirmationModal","updateStock","adjustment","updateSuccess","noChangeToast","updateFailure","StocksSummary","loaded","e","changeStockValue","showUpdateButton","showApply","showModalPrompt","index","findIndex","items_copy","showUpdateSuccessToast","showUpdateFailureToast","showNoChangeToast","App","exact","component","Boolean","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.56b920b0.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport firebaseApp from '../firebase/firebase.js';\nimport Header from '../header/header.js';\nimport './orders.scss'\nimport Table from 'react-bootstrap/Table';\nimport axios from 'axios';\nvar moment = require('moment');\nconst CancelToken = axios.CancelToken;\nlet cancel;\n\nclass Orders extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\t// db : firebaseApp.firestore(),\n\t\t\torders : [],\n\t\t\tmonth: moment(),\n\t\t\tapiEndpoint : \"https://us-central1-tuckshop-3.cloudfunctions.net/api\",\n\t\t\t// apiEndpoint : \"http://localhost:5000/tuckshop-3/us-central1/api\",\n\t\t\tloading : true\n\t\t};\n\t\tthis.pickAMonth = React.createRef();\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.fetchOrders();\n\t}\n\n\ttableBody(){\n\t\treturn this.state.orders.map((order) => \n\t\t\t<tr key={order.created._nanoseconds}>\n\t\t\t    <td>{order.item_name}</td>\n\t\t\t    <td>{order.quantity}</td>\n\t\t\t    <td>{(new Date(order.date)).toLocaleDateString()}</td>\n\t\t\t    <td><small>Rs. </small> {order.item_price}</td>\n\t    \t</tr>\n    \t);\n\t}\n\n\tgetMonthlyTotal(){\n\t\tlet total = 0;\n\t\tthis.state.orders.forEach((order) =>{\n\t\t\ttotal = total + order.quantity * order.item_price;\n\t\t})\n\t\treturn total\n\t}\n\n\trender() {\n\t\tlet orderContainer;\n\t\tif(this.state.loading)\n\t\t\torderContainer = <div className=\"text-center mt-5\"> <h4> Loading ... </h4>  </div>\n\t\telse if(this.state.orders.length){\n\t\t\torderContainer = \n\n\t\t\t<Table striped bordered hover>\n\t\t\t  \t<thead>\n\t\t\t\t    <tr>\n\t\t\t\t\t\t<th>Product name</th>\n\t\t\t\t\t\t<th>Quantity</th>\n\t\t\t\t\t\t<th>Date</th>\n\t\t\t\t\t\t<th>Price</th>\n\t\t\t\t    </tr>\n\t\t\t    </thead>\n\t\t\t  \t<tbody>\n\t\t\t    \t{this.tableBody()}\n\t\t\t\t</tbody>\n\t\t\t</Table>\n\t\t}\n\t\telse\n\t\t\torderContainer = <div className=\"text-center mt-5\"> <h4> No Results </h4>  </div>\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Header/>\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"special-wrapper mb-2\">\n\t\t\t\t\t\t<div className=\"top-bar d-flex font-weight-bolder justify-content-center mb-2\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\tMonthly Orders\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"d-flex font-weight-bold justify-content-between mb-2 pl-2 pr-2\">\n\t\t\t                <div>\n\t\t\t                <label className=\"mr-2\">Select Month : </label>\n\t\t\t\t\t\t\t  <button className=\"btn btn-dark mr-1\" onClick={this.decreaseMonth}>{'< '}</button>\n\t\t\t\t\t\t\t  <button className=\"btn btn-dark month-selected\">{this.state.month.format('MMM YYYY')}</button>\n\t\t\t\t\t\t\t  <button disabled={this.state.month.clone().add(1, 'hour') > moment()} className=\"btn btn-dark ml-1\" onClick={this.increaseMonth}>\n\t\t\t\t\t\t\t    {'>'}\n\t\t\t\t\t\t\t  </button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\tMonthly total : {this.getMonthlyTotal()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{orderContainer}\n\t\t\t\t    </div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tdecreaseMonth = () =>\n\t  this.setState(\n\t    prevState => ({ month: prevState.month.subtract(1, 'month') }),\n\t    this.filterByMonth\n\t)\n\n\tincreaseMonth = () =>\n\t  this.setState(prevState => ({ month: prevState.month.add(1, 'month') }), this.filterByMonth)\n\n\tfilterByMonth = () => {\n\t  const month = this.state.month.clone()\n\t  this.fetchOrders(month)\n\t}\n\n\tfetchOrders(month : any = null) {\n\t\tthis.setState({loading : true, orders : []})\n\t\tlet date;\n\t\tif(month){\n\t\t\tdate = new Date(month);\n\t\t}\n\t\telse{\n\t\t\tdate = new Date();\n\t\t}\n\t\tlet mm = date.getMonth() + 1; //January is 0!\n\t\tlet yyyy = date.getFullYear();\n\n\t\tlet next_mm = mm == 12 ? 1 : mm + 1;\n\t\tlet next_yyyy = mm == 12 ? yyyy + 1 : yyyy;\n\n\t\tlet start_date = mm + '-1-' + yyyy;\n\t\tlet end_date = next_mm + '-1-' + next_yyyy;\n\t\tconsole.log(\"check ==>\", start_date, end_date);\n\n\t\tlet body = {\n\t\t\temail : firebaseApp.auth().currentUser.email,\n\t\t\tstart_date : start_date,\n\t\t\tend_date : end_date\n\t\t}\n\t\tcancel && cancel();\n\t\tlet url = this.state.apiEndpoint + '/get-user-orders';\n\t\taxios.post(url, body, {\n\t\t\t\tcancelToken : new CancelToken((c) => {\n\t\t\t\t\tcancel = c;\n\t\t\t\t})\n\t\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tlet orders = res.data.orders;\n\t\t\t\torders.sort((a,b)=>{\n\t\t  \t\t\treturn b.created._seconds - a.created._seconds;\n\t\t  \t\t})\n\t\t  \t\tthis.setState({orders : orders, loading : false})\n\t\t\t})\n\t\t\t.catch((error)=>{\n\t\t\t\tconsole.log(\"error in place order ==>\", error);\n\t\t\t})\n\t}\n}\n\nexport default Orders;","import * as firebase from 'firebase/app';\nimport 'firebase/database';\n// import 'firebase/firestore';\nimport 'firebase/auth';\n\nconst firebaseApp = firebase.initializeApp({\n\tapiKey: \"AIzaSyB7dEdxlQDHUTlEJmWm2jTnjr2XxbW6e94\",\n\tauthDomain: \"tuckshop-3.firebaseapp.com\",\n\tdatabaseURL: \"https://tuckshop-3.firebaseio.com\",\n\tprojectId: \"tuckshop-3\",\n\tstorageBucket: \"tuckshop-3.appspot.com\",\n\tmessagingSenderId: \"560785862071\",\n\tappId: \"1:560785862071:web:a1477aab0b2c6653\",\n\n\tclientId: \"560785862071-31coumpujetgutil5edbkemehkusnf40.apps.googleusercontent.com\",\n    scopes: [\n             \"email\",\n             \"profile\",\n             \"https://www.googleapis.com/auth/spreadsheets\"\n    ]\n});\n\n// firebase.firestore().enablePersistence()\n//   .catch(function(err) {\n//       if (err.code == 'failed-precondition') {\n//           console.log(\"Multiple tabs open, persistence can only be enabled in one tab at a a time.\");\n//       } else if (err.code == 'unimplemented') {\n//           console.log(\"The current browser does not support all of the features required to enable persistence\");\n//       }\n//   });\n\nexport default firebaseApp;","import React, { Component } from 'react';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Popover from 'react-bootstrap/Popover';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Button from 'react-bootstrap/Button';\nimport './header.scss';\nimport firebaseApp from '../firebase/firebase.js';\nimport { Route, Link } from 'react-router-dom';\nimport * as firebase from 'firebase/app';\n\nclass Header extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tif(firebaseApp.auth().currentUser)\n\t\t\tthis.state = { \n\t\t\t\tuserInfo : {\n\t\t\t\t\tname : firebaseApp.auth().currentUser.displayName,\n\t\t\t\t\temail : firebaseApp.auth().currentUser.email,\n\t\t\t\t\tphotoURL : firebaseApp.auth().currentUser.photoURL\n\t\t\t\t}\n\t\t\t};\n\t}\n\trender() {\n\t\tlet popover;\n\t\tif(this.state && this.state.userInfo && this.state.userInfo.name)\n\t\t\tpopover = <OverlayTrigger ref=\"overlay\" trigger=\"click\" className=\"popover-modal\" rootClose={true} placement=\"bottom\" overlay={\n\t\t\t\t\t\t\t\t<Popover id=\"popover-basic\">\n\t\t\t\t\t\t\t\t    <Popover.Title as=\"h3\">{this.state.userInfo.name}</Popover.Title>\n\t\t\t\t\t\t\t\t    <Popover.Content>\n\t\t\t\t\t\t\t\t    \t<Link to='/search' className=\"d-block\"> Search Page </Link>\n\t\t\t\t\t\t\t\t    \t<Link to='/orders' className=\"d-block\"> Monthly Orders </Link>\n\t\t\t\t\t\t\t\t     \t<button onClick={()=>this.googleLogout()}>Logout</button>\n\t\t\t\t\t\t\t\t    </Popover.Content>\n\t\t\t\t\t\t\t\t</Popover>\n\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t    <button variant=\"success\" className=\"btn-profile\">\n\t\t\t\t\t\t\t    <img src={this.state.userInfo.photoURL} width=\"40\" className=\"avatar-img rounded-circle\"/></button>\n\t\t\t\t\t\t\t </OverlayTrigger>\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Navbar expand=\"xl\" className=\"justify-content-center\">\n\t\t\t\t\t<Navbar.Brand >\n\t\t\t\t\t\t<span className=\"\">Tuckshop</span>\n\t\t\t\t\t\t<div className=\"header-actions\">\n\t\t\t\t\t\t\t{popover}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Navbar.Brand>\n\t\t\t\t</Navbar>\n\t\t\t\t\n\t\t\t</div>\n\t\t);\n\t}\n\n\tgoogleLogout(){\n\t\tfirebase.auth().signOut().then(function() {\n\t\t\twindow.history.replaceState({}, \"home\", \"/\");\n\t\t\tconsole.log(\"logout successful\")\n\t\t}).catch(function(error) {\n\t\t  console.log(\"error in logout\", error);\n\t\t});\n\t}\n}\n\n\n\nexport default Header;","import React, { Component } from 'react';\nimport FormControl from 'react-bootstrap/FormControl';\n\nclass SearchBar extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"search-wrapper\">\n\t\t\t\t<div className=\"inner-wrap\">\n\t\t\t\t\t<FormControl size=\"lg\" type=\"text\" placeholder=\"Search\" className=\"mr-sm-2 global-search\" onChange={this.handleChange} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\thandleChange(event) {\n\t\tthis.props.onSearchChange(event.target.value);\n\t}\n}\n\nexport default SearchBar;","import React, { Component } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport './list.scss'\n\nclass Filters extends Component {\n\trender() {\n\t\tconst filterBtns = this.props.filters.map((filter) =>\n\t\t\t<Button size=\"lg\" className={\"mr-2 ml-2 filter-btn specialIcons \" + filter.type + \"-icon \" + (filter.isSelected ? 'active' : '')} key={filter.type} onClick={()=>this.props.onFilterSelect(filter.type)} > <i className=\"btn-icon\"></i> {filter.type}</Button>\n\t\t);\n\t\treturn (\n\t\t\t<div className=\"tuck-lists\">\n\t\t\t\t{filterBtns}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Filters;","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nclass Item extends Component {\t\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Link to={\"/search/\" + this.props.item.item_code} onClick={()=>this.props.handleClick(this.props.item)} className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\">\n\t\t\t\t\t{this.props.item.item_name}\n\t\t\t\t\t<span> <small>Rs. </small> {this.props.item.price}</span>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Item;","import React, { Component } from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport axios from 'axios';\nimport './list.scss'\nimport firebaseApp from '../firebase/firebase.js';\n\nclass ItemModal extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tapiEndpoint : \"https://us-central1-tuckshop-3.cloudfunctions.net/api\",\n\t\t\t// apiEndpoint : \"http://localhost:5000/tuckshop-3/us-central1/api\",\n\t\t\tquantity : 1\n\t\t}\n\n\t\tthis.onQantityChange = this.onQantityChange.bind(this);\n\t}\n\n\tonQantityChange(event) {\n\t\tthis.setState({quantity: event.target.value});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t      <Modal className=\"modal-wrapper centered-modal\" show={this.props.showModal} onHide={()=>this.props.handleModalClose()}>\n\t\t        <Modal.Header className=\"modal-header\">\n\t\t          <Modal.Title>Are you sure you want to buy?</Modal.Title>\n\t\t        </Modal.Header>\n\t\t        <Modal.Body>\n\t\t\t\t\t<div className=\"modal-body p-1\">\n\t\t\t\t\t\t<div className=\"d-flex justify-content-between mb-4\">\n\t\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t\t{this.props.item.item_name}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t\t<small>Rs.</small>{this.props.item.price}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"d-flex justify-content-between\">\n\t\t\t\t\t\t\t<label>Quantity</label>\n\t\t\t\t\t\t\t<select value={this.state.quantity} onChange={this.onQantityChange}>\n\t\t\t\t\t\t\t\t<option value=\"1\" >1</option>\n\t\t\t\t\t\t\t\t<option value=\"2\">2</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t        </Modal.Body>\n\t\t        <Modal.Footer className=\"d-flex justify-content-between modal-footer\">\n\t\t          <button className=\"cancel-btn\" onClick={()=>this.props.handleModalClose()}>\n\t\t            Cancel\n\t\t          </button>\n\t\t          <button className=\"buy-btn\" onClick={()=>this.buyItem()}>\n\t\t            Buy\n\t\t          </button>\n\t\t        </Modal.Footer>\n\t\t      </Modal>\n\t\t    </div>\n\t\t);\n\t}\n\n\tbuyItem(){\n\t\tconsole.log(\"inside buyItem function\");\n\t\tthis.props.handleModalClose();\n\t\tthis.props.showLoaderToast()\n\t\tconst url = this.state.apiEndpoint + '/place-order';\n\t\tlet body = {\n\t      user_email : firebaseApp.auth().currentUser.email,\n\t      item_code : this.props.item.item_code,\n\t      quantity : parseInt(this.state.quantity),\n\t      photoURL : firebaseApp.auth().currentUser.photoURL,\n\t      uid : firebaseApp.auth().currentUser.uid,\n\t      name : firebaseApp.auth().currentUser.displayName,\n\t      type : this.props.item.type,\n\t      status : this.props.item.type == \"Special\" ? 'open' : 'closed'\n\t    }\n\n\t\taxios.post(url, body)\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(\"place order response ==>\", res);\n\t\t\t\tif(res.data.message_code === \"SUCCESS\")\n\t\t\t\t\tthis.props.orderSuccess();\n\t\t\t\telse\n\t\t\t\t\tthis.props.orderFailure();\n\t\t\t\tthis.setState({quantity : 1});\n\t\t\t})\n\t\t\t.catch((error)=>{\n\t\t\t\tconsole.log(\"error in place order ==>\", error);\n\t\t\t\tthis.props.orderFailure();\n\t\t\t\tthis.setState({quantity : 1});\n\t\t\t})\n\t}\n}\n\nexport default ItemModal;","import React, { Component } from 'react';\nimport Header from '../header/header.js';\nimport SearchBar from './search-bar.js';\nimport Filters from './filters.js';\nimport Item from './item.js';\nimport ItemModal from './item-modal.js';\nimport axios from 'axios';\nimport firebaseApp from '../firebase/firebase.js';\nimport { Route, Link } from 'react-router-dom';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass List extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = { \n\t\t\titems : [],\n\t\t\tisLoaded : false,\n\t\t\titemsCopy : [],\n\t\t\titemTypes : [],\n\t\t\tshowModal : false,\n\t\t\tmodalItem : {},\n\t\t\tsearchText : '',\n\t\t\tselectedFilter : 'All',\n\t\t\t// db : firebaseApp.firestore(),\n\t\t\titemCode : '',\n\t\t\tapiEndpoint : \"https://us-central1-tuckshop-3.cloudfunctions.net/api\",\n\t\t};\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.fetchItems();\n\t\tlet path = window.location.pathname;\n\t\tif(!path.includes('/search'))\n\t\t\twindow.history.replaceState({}, \"search\", \"/search\");\n\t\tif(path.includes('/search/')){\n\t\t\tlet item_code = path.split(\"/\")[2]\n\t\t\tconsole.log(\"item code ==>\", item_code);\n\t\t\tthis.setState({itemCode : item_code});\n\t\t}\n\t}\n\n\trender() {\n\t\tlet listContainer;\n\t\tif(this.state.isLoaded)\n\t\t\tif(this.state.items.length)\n\t\t\t\tlistContainer = this.state.items.map((item) =>\n\t\t\t    \t<Item key={item.item_code} item={item} handleClick={(item) => this.handleItemClick(item)} />\n\t\t\t\t);\n\t\t\telse\n\t\t\t\tlistContainer = <div className=\"text-center mt-5\"> <h4> No Results </h4>  </div>\n\t\telse\n\t\t\tlistContainer = <div className=\"text-center mt-5\"> <h4> Loading... </h4>  </div>\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Header />\n\t\t\t\t<SearchBar onSearchChange={(searchText)=> this.searchItem(searchText)}/>\n\t\t\t\t<div className=\"mt-2 border\">\n\t\t\t\t\t<Filters filters={this.state.itemTypes} onFilterSelect={(type)=> this.filterItems(type)}/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"list-group\">\n\t\t\t\t\t{listContainer}\n\t\t\t\t</div>\n\t\t\t\t<ToastContainer hideProgressBar={true} closeOnClick={false} position={toast.POSITION.BOTTOM_CENTER} />\n\n\t\t\t\t<Route path='/search/:item_code' render={() => <ItemModal showModal={this.state.showModal} item={this.state.modalItem} handleModalClose={()=>this.handleModalClose()} orderSuccess={()=>this.showOrderSuccessToast()} orderFailure={()=>this.showOrderFailureToast()} showLoaderToast={()=>this.showLoaderToast()} /> } />\n\t\t\t</div>\n\t\t);\n\t}\n\n\thandleItemClick(item){\n\t\tthis.setState({showModal : true, modalItem : item, itemCode : item.item_code})\n\t}\n\n\thandleModalClose(){\n\t\tthis.setState({showModal : false, itemCode : ''});\n\t\twindow.history.replaceState({}, \"search\", \"/search\");\n\t}\n\n\tshowLoaderToast(){\n\t\ttoast.dismiss();\n\t\ttoast(\"Please wait ...\", {autoClose : false});\n\t}\n\n\tshowOrderSuccessToast(){\n\t\ttoast.dismiss();\n\t\ttoast(\"Order placed successfully\", {autoClose : 3000});\t\n\t}\n\n\tshowOrderFailureToast(){\n\t\ttoast.dismiss();\n\t\ttoast(\"Something went wrong. Please try again.\", {autoClose : 3000});\n\t}\n\n\tfetchItems() {\n\t\tlet url = this.state.apiEndpoint + '/get-items';\n\t\taxios.get(url)\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(\"get items response ==>\", res);\n\t\t\t\tlet items = res.data;\n\t\t\t\titems = items.filter((item) => item.buyable && item.in_stock && item.stock > 0)\n\t\t  \t\titems = items.sort(this.sortItems)\n\t\t\t\tlet temp = [];\n\t\t\t\tfor(let i =0; i<items.length; i++){\n\t\t\t\t\tif(items[i].type === \"Special\"){\n\t\t\t\t\t\ttemp.push(items[i]);\n\t\t\t\t\t\titems.splice(i,1);\n\t\t\t\t\t\ti-=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\titems = temp.concat(items);\n\t\t\t\tthis.setState({items : items, isLoaded : true, itemsCopy : items});\n\t\t\t\tif(this.state.itemCode)\n\t\t\t\t\tthis.findItem()\n\t\t\t\tthis.findTypes(items);\n\t\t\t\tif(this.state.searchText)\n\t\t\t\t\tthis.searchItem(this.state.searchText);\n\t\t\t\telse\n\t\t\t\t\tthis.filterItems(this.state.selectedFilter);\n\t\t\t})\n\t\t\t.catch((error)=>{\n\t\t\t\tconsole.log(\"error in place order ==>\", error);\n\t\t\t})\n\t\t// this.state.db.collection(\"items\").onSnapshot(querySnapshot => {\n\t\t// \t  \t\tlet items = querySnapshot.docs.map(doc => doc.data());\n\t\t// \t  \t\titems = items.filter((item) => item.buyable && item.in_stock && item.stock > 0)\n\t\t// \t  \t\titems = items.sort(this.sortItems)\n\t\t// \t\t\tlet temp = [];\n\t\t// \t\t\tfor(let i =0; i<items.length; i++){\n\t\t// \t\t\t\tif(items[i].type === \"Special\"){\n\t\t// \t\t\t\t\ttemp.push(items[i]);\n\t\t// \t\t\t\t\titems.splice(i,1);\n\t\t// \t\t\t\t\ti-=1;\n\t\t// \t\t\t\t}\n\t\t// \t\t\t}\n\t\t// \t\t\titems = temp.concat(items);\n\t\t// \t\t\tthis.setState({items : items, isLoaded : true, itemsCopy : items});\n\t\t// \t\t\tif(this.state.itemCode)\n\t\t// \t\t\t\tthis.findItem()\n\t\t// \t\t\tthis.findTypes(items);\n\t\t// \t\t\tif(this.state.searchText)\n\t\t// \t\t\t\tthis.searchItem(this.state.searchText);\n\t\t// \t\t\telse\n\t\t// \t\t\t\tthis.filterItems(this.state.selectedFilter);\n\t //    });\n\t}\n\n\tfindItem(){\n\t\tlet item = this.state.items.find((item)=>{ return item.item_code === this.state.itemCode})\n\t\tif(item)\n\t\t\tthis.handleItemClick(item);\n\t\telse{\n\t\t\ttoast.dismiss();\n\t\t\ttoast(\"Item not found\", {autoClose : 3000});\n\t\t\twindow.history.replaceState({}, \"search\", \"/search\");\n\t\t\tthis.setState({itemCode : ''});\n\t\t}\n\t}\n\n\tsearchItem(searchText){\n\t\tthis.setState({searchText : searchText});\n\t\tif (searchText && searchText.trim() !== '') {\n\t\t\tlet items = this.state.itemsCopy.filter((i) => {\n\t\t\t\treturn (i.item_name.toLowerCase().indexOf(searchText.toLowerCase()) > -1);\n\t\t\t});\n\t\t\tthis.setState({items : items });\n\t\t}\n\t\telse{\n\t\t\tthis.setState({items : this.state.itemsCopy });\n\t\t}\n\t\tthis.setState({selectedFilter : 'All'}, ()=>{\n\t\t\tthis.setSelectedFilter();\n\t\t});\n\t}\n\n\tsetSelectedFilter(){\n\t\tlet itemTypes = this.state.itemTypes;\n  \t\titemTypes.forEach((item) =>{\n  \t\t\titem.isSelected = false;\n  \t\t\tif(item.type === this.state.selectedFilter)\n  \t\t\t\titem.isSelected = true;\n  \t\t})\n  \t\tthis.setState({itemTypes : itemTypes});\n\t}\n\n\tfindTypes(data){\n\t\tlet flags = [], itemTypes = [{type: 'All', isSelected : true}], type;\n\t\tfor(let i=0;i<data.length;i++){\n\t\tif( flags[data[i].type]) continue;\n\t\t\tflags[data[i].type]=true;\n\t\t\ttype = {type : data[i].type, isSelected : false}\n\t\t\titemTypes.push(type);\n\t\t}\n\t\tthis.setState({itemTypes : itemTypes });\n\t}\n\n\tsortItems(a,b){\n\t    if(a.type === b.type){\n\t    \treturn a.item_name < b.item_name ? -1 : 1;\n\t    }\n\t    return a.type < b.type ? -1 : 1;\n  \t}\n\n  \tfilterItems(type){\n  \t\tthis.setState({selectedFilter : type}, ()=>{\n  \t\t\tthis.setSelectedFilter();\n  \t\t});\n  \t\t\n\t\tif(type === 'All'){\n\t\t\tthis.setState({items : this.state.itemsCopy });\n\t\t}\n\t\telse{\n\t\t\tlet items = this.state.itemsCopy.filter((item) => {\n\t\t\t\treturn item.type === type;\n\t\t\t});\n\t\t\tthis.setState({items : items });\n\t\t}\n\t}\n}\n\nexport default List;","import React, { Component } from 'react';\nimport logo from '../../assets/img/tuckshop.jpg';\nimport './home.scss';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Button from 'react-bootstrap/Button';\nimport { BrowserRouter as Router, Route, withRouter } from \"react-router-dom\";\nimport * as firebase from 'firebase/app';\nimport firebaseApp from '../firebase/firebase.js';\n\nimport List from '../list-page/list-page.js';\nimport Orders from '../orders/orders.js';\n\nvar provider = new firebase.auth.GoogleAuthProvider();\nprovider.addScope('https://www.googleapis.com/auth/spreadsheets');\n\nclass Home extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisLoggedIn : false,\n\t\t\tisAuthenticationChecked : false\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n\t\tfirebaseApp.auth().onAuthStateChanged( (user)=> {\n\t\t  if (user) {\n\t\t  \tconsole.log(\"check user ==>\", user);\n\t\t  \tthis.setState({isLoggedIn : true, isAuthenticationChecked : true});\n\t\t  } \n\t\t  else {\n\t\t  \tthis.setState({isLoggedIn : false, isAuthenticationChecked : true});\n\t\t  }\n\t\t});\n\t}\n\n\trender() {\n\t\tlet btnContent;\n\t\tif(this.state.isAuthenticationChecked)\n\t\t\tbtnContent = <button variant=\"warning\" className=\"btn login-btn\" size=\"lg\" onClick={()=>this.singInWithGoogle()}>Sign In</button>\n\n\t\tlet pageContent;\n\t\tif(this.state.isLoggedIn){\n\t\t\tif(window.location.pathname == '/orders')\n\t\t\t\tpageContent = <Orders/>\n\t\t\telse\n\t\t\t\tpageContent = <List/>\n\t\t}\n\t\telse\n\t\t\tpageContent = (<div className=\"App\">\n\t\t\t\t\t<Navbar expand=\"xl\" className=\"justify-content-center\">\n\t\t\t\t\t\t<Navbar.Brand >Welcome to Tuckshop</Navbar.Brand>\n\t\t\t\t\t</Navbar>\n\t\t\t\t\t<h2 className=\"mt-2 mb-2\">Grab some Tuck!</h2>\n\t\t\t\t\t<img src={logo} className=\"App-logo img-fluid\" width=\"280\" alt=\"logo\" />\n\t\t\t\t\t<div className=\"p-3\">\n\t\t\t\t\t\t{btnContent}\n\t\t\t\t\t</div>\n\t\t\t\t\t \n\t\t\t\t</div>)\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{pageContent}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tsingInWithGoogle(){\n\t\tlet { history } = this.props;\n\t\tconsole.log(\"inside sing in with google function\")\n\t\tfirebase.auth().signInWithPopup(provider).then(function(result) {\n\t\t  var token = result.credential.accessToken;\n\t\t  var user = result.user;\n\t\t  history.push({\n\t\t   pathname: '/search'\n\t\t  });\n\t\t}).catch(function(error) {\n\t\t  console.log(\"error in google login ==>\", error);\n\t\t});\n\t}\n}\n\nexport default Home;","import React, { Component } from 'react';\nimport firebaseApp from '../firebase/firebase.js';\nimport Header from '../header/header.js';\nimport './specials.scss'\nimport axios from 'axios';\nimport Spinner from 'react-bootstrap/Spinner';\nconst CancelToken = axios.CancelToken;\nlet cancel;\n\nclass Specials extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\t// db : firebaseApp.firestore(),\n\t\t\tspecialsOrders : [],\n\t\t\tapiEndpoint : \"https://us-central1-tuckshop-3.cloudfunctions.net/api\",\n\t\t\t// apiEndpoint : \"http://localhost:5000/tuckshop-3/us-central1/api\",\n\t\t\tcloseRequestInProgress : false,\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.fetchOrders();\n\t\tsetInterval(()=>{\n\t\t\tconsole.log(\"calling fetchOrders\");\n\t\t\tthis.fetchOrders();\n\t\t},60000)\n\t}\n\n\tgetUserImage(special){\n\t\treturn special.map((order) =>\n\t\t\t\t<div key={order.user_email + order.created._seconds} className={\"m-2 text-center \" + (order.status === 'closed' ? \"disabled\" : \"cursor-pointer\")} title={order.status === 'open' ? 'Mark as Served' : ''}>\n    \t\t\t\t<img onClick={()=>this.closeSpecialOrder(order)}  src={order.photoURL} width=\"70\" className=\"avatar-img rounded-circle \" />\n    \t\t\t</div>\n\t\t\t )\n\t}\n\n\trender() {\n\t\tlet orderContainer;\n\t\tif(this.state.specialsOrders.length)\n\t\t\torderContainer = this.state.specialsOrders.map((special) =>\n\t\t\t\t<div className=\"special-wrapper mb-2\" key={special[0].item_code}>\n\t\t\t\t\t<div className=\"top-bar d-flex font-weight-bolder justify-content-between mb-2\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{special[0].item_name}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\tOrder Count :{special.length}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex flex-wrap\">\n\t\t\t\t\t\t{this.getUserImage(special)}\n\t\t\t    \t</div>\n\t\t\t    </div>\n\t\t\t);\n\t\telse\n\t\t\torderContainer = <div className=\"text-center mt-5\"> <h4> No Results </h4>  </div>\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Header/>\n\t\t\t\t<div>\n\t\t\t\t\t{orderContainer}\n\t\t\t\t</div>\n\t\t\t\t<div className={\"loading-wrapper \" + (this.state.closeRequestInProgress ? \"d-flex\" : \"d-none\")}>\n\t\t\t\t\t<Spinner animation=\"border\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tfetchOrders() {\n\t \tlet url = this.state.apiEndpoint + '/special-orders';\n\t \t\tlet date = new Date();\n\t \t\tlet month = date.getMonth() + 1;\n\t\t\tlet body = {\n\t\t      date : month + '/' + date.getDate() + '/' + date.getFullYear()\n\t\t    }\n\n\t\t\taxios.post(url, body, {\n\t\t\t\tcancelToken : new CancelToken((c) => {\n\t\t\t\t\tcancel = c;\n\t\t\t\t})\n\t\t\t})\n\t\t\t\t.then((res) => {\n\t\t\t\t\tconsole.log(\"res ==>\",res);\n\t\t\t\t\tlet orders = res.data.special_orders;\n\t\t\t\t\torders.sort((a,b)=>{\n\t\t\t  \t\t\treturn a.created._seconds - b.created._seconds;\n\t\t\t  \t\t})\n\t\t\t  \t\tthis.groupByItem(orders, 'item_code');\t\n\t\t\t\t})\n\t\t\t\t.catch((error)=>{\n\t\t\t\t\tconsole.log(\"error in get specials orders api ==>\", error);\n\t\t\t\t})\n\t}\n\n\tgroupByItem(array, key){\n\t\tlet grouped_obj = \n\t\t\tarray.reduce((objectsByKeyValue, obj) => {\n\t\t\t\tconst value = obj[key];\n\t\t\t\tobjectsByKeyValue[value] = (objectsByKeyValue[value] || []).concat(obj);\n\t\t\t\treturn objectsByKeyValue;\n\t\t\t}, {});\n\t\tlet grouped_array = []\n\t\tfor (var key in grouped_obj) {\n\t\t\tgrouped_array.push(grouped_obj[key]);\n\t\t}\n\t\tthis.setState({specialsOrders : grouped_array});\n\t}\n\n\tcloseSpecialOrder(order){\n\t\tif(order.status == 'open' && !this.state.closeRequestInProgress){\n\t\t\tcancel && cancel();\n\t\t\tthis.setState({closeRequestInProgress : true});\n\t\t\tlet url = this.state.apiEndpoint + '/close-special-order';\n\t\t\tlet body = {\n\t\t      id : order.id\n\t\t    }\n\n\t\t\taxios.post(url, body)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tthis.setState({closeRequestInProgress : false});\n\t\t\t\t\tconsole.log(\"place order response ==>\", res);\n\t\t\t\t})\n\t\t\t\t.catch((error)=>{\n\t\t\t\t\tthis.setState({closeRequestInProgress : false});\n\t\t\t\t\tconsole.log(\"error in place order ==>\", error);\n\t\t\t\t})\n\t\t}\n\t}\n}\n\nexport default Specials;","import React, { Component } from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport axios from 'axios';\n\nclass ConfirmationModal extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tapiEndpoint : \"https://us-central1-tuckshop-3.cloudfunctions.net/api\",\n\t\t\t// apiEndpoint : \"http://localhost:5000/tuckshop-3/us-central1/api\",\n\t\t}\n\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t      <Modal className=\"modal-wrapper centered-modal\" show={this.props.showModal} onHide={()=>this.props.handleModalClose()}>\n\t\t        <Modal.Header className=\"modal-header\">\n\t\t          <Modal.Title>Are you sure you want to update stock?</Modal.Title>\n\t\t        </Modal.Header>\n\t\t        <Modal.Body>\n\t\t\t\t\t<div className=\"modal-body p-1\">\n\t\t\t\t\t\t<div className=\"d-flex justify-content-between mb-4\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{this.props.item.item_name}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\tStock count : {this.props.item.stock}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t        </Modal.Body>\n\t\t        <Modal.Footer className=\"d-flex justify-content-between modal-footer\">\n\t\t          <button className=\"cancel-btn\" onClick={()=>this.props.handleModalClose()}>\n\t\t            Cancel\n\t\t          </button>\n\t\t          <button className=\"buy-btn\" onClick={()=>this.updateStock()}>\n\t\t            Confirm\n\t\t          </button>\n\t\t        </Modal.Footer>\n\t\t      </Modal>\n\t\t    </div>\n\t\t);\n\t}\n\n\tupdateStock(){\n\t\tthis.props.handleModalClose();\n\t\tthis.props.showLoaderToast()\n\t\tlet url = this.state.apiEndpoint + '/adjust-stock';\n\t\tlet body = {\n\t      item_code : this.props.item.item_code,\n\t      adjustment : parseInt(this.props.item.stock)\n\t    }\n\t\taxios.post(url, body)\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(\"adjust stock response ==>\", res);\n\t\t\t\tif(res.data.type === \"success\")\n\t\t\t\t\tthis.props.updateSuccess();\n\t\t\t\telse if(res.data.type == 'info')\n\t\t\t\t\tthis.props.noChangeToast();\n\t\t\t\telse if(res.data.type == 'error')\n\t\t\t\t\tthis.props.updateFailure();\n\t\t\t})\n\t\t\t.catch((error)=>{\n\t\t\t\tconsole.log(\"error in place order ==>\", error);\n\t\t\t\tthis.props.updateFailure();\n\t\t\t})\n\t}\n}\n\nexport default ConfirmationModal;","import React, { Component } from 'react';\nimport firebaseApp from '../firebase/firebase.js';\nimport Header from '../header/header.js';\nimport './stocks.scss'\nimport Table from 'react-bootstrap/Table';\nimport axios from 'axios';\nimport ConfirmationModal from './confirmation_modal.js';\nimport { ToastContainer, toast } from 'react-toastify';\n\nclass StocksSummary extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\titems : [],\n\t\t\tloaded : false,\n\t\t\tapiEndpoint : \"https://us-central1-tuckshop-3.cloudfunctions.net/api\",\n\t\t\t// apiEndpoint : \"http://localhost:5000/tuckshop-3/us-central1/api\",\n\t\t\tshowModal : false,\n\t\t\tmodalItem : {},\n\t\t};\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.fetchItems();\n\t}\n\n\ttableBody(){\n\t\treturn this.state.items.map((item) => \n\t\t\t<tr key={item.item_code}>\n\t\t\t    <td>{item.item_code}</td>\n\t\t\t    <td>{item.item_name}</td>\n\t\t\t    <td> <input type=\"number\" value={item.stock} onChange={(e)=>this.changeStockValue(item, e.target.value)}/>\n\t\t\t     {this.showUpdateButton(item)}\n\t\t\t    </td>\n\t    \t</tr>\n    \t);\n\t}\n\n\tshowUpdateButton(item){\n\t\tif(item.showApply && item.stock)\n\t\t\treturn <button onClick={()=>this.showModalPrompt(item)}>Update</button>\n\t}\n\n\tshowModalPrompt(item){\n\t\tthis.setState({showModal : true,  modalItem : item})\n\t}\n\n\tchangeStockValue(item, value){\n\t\tlet index = this.state.items.findIndex((i) => i.item_code === item.item_code)\n\t\tlet items_copy  = this.state.items;\n\t\titems_copy[index].stock = value;\n\t\titems_copy[index].showApply = true;\n\t\tthis.setState({items : items_copy});\n\t}\n\n\trender() {\n\t\tlet orderContainer;\n\t\tif(!this.state.loaded)\n\t\t\torderContainer = <div className=\"text-center mt-5\"> <h4> Loading... </h4>  </div>\n\t\telse if(this.state.items.length){\n\t\t\torderContainer = \n\t\t\t<Table striped bordered hover>\n\t\t\t  \t<thead>\n\t\t\t\t    <tr>\n\t\t\t\t\t\t<th>Item Code</th>\n\t\t\t\t\t\t<th>Item Name</th>\n\t\t\t\t\t\t<th>In Stock</th>\n\t\t\t\t    </tr>\n\t\t\t    </thead>\n\t\t\t  \t<tbody>\n\t\t\t    \t{this.tableBody()}\n\t\t\t\t</tbody>\n\t\t\t</Table>\n\t\t}\n\t\telse\n\t\t\torderContainer = <div className=\"text-center mt-5\"> <h4> No Results </h4>  </div>\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Header/>\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"special-wrapper mb-2\">\n\t\t\t\t\t\t<div className=\"top-bar d-flex font-weight-bolder justify-content-center mb-2\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\tStock Summary\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{orderContainer}\n\t\t\t\t    </div>\n\t\t\t\t</div>\n\n\t\t\t\t<ToastContainer hideProgressBar={true} closeOnClick={false} position={toast.POSITION.BOTTOM_CENTER} />\n\n\t\t\t\t<ConfirmationModal showModal={this.state.showModal} item={this.state.modalItem} handleModalClose={()=>this.handleModalClose()} updateSuccess={()=>this.showUpdateSuccessToast()} updateFailure={()=>this.showUpdateFailureToast()} showLoaderToast={()=>this.showLoaderToast()} noChangeToast={()=>this.showNoChangeToast()}/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\thandleModalClose(){\n\t\tthis.setState({showModal : false, itemCode : ''});\n\t}\n\n\tshowLoaderToast(){\n\t\ttoast.dismiss();\n\t\ttoast(\"Please wait ...\", {autoClose : false});\n\t}\n\n\tshowNoChangeToast(){\n\t\ttoast.dismiss();\n\t\ttoast(\"No change in stock\", {autoClose : 3000});\t\n\t}\n\n\tshowUpdateSuccessToast(){\n\t\tlet index = this.state.items.findIndex((i) => i.item_code === this.state.modalItem.item_code)\n\t\tlet items_copy  = this.state.items;\n\t\titems_copy[index].showApply = false;\n\t\tthis.setState({items : items_copy});\n\t\ttoast.dismiss();\n\t\ttoast(\"Stock updated successfully\", {autoClose : 3000});\t\n\t}\n\n\tshowUpdateFailureToast(){\n\t\ttoast.dismiss();\n\t\ttoast(\"Something went wrong. Please try again.\", {autoClose : 3000});\n\t}\n\n\tfetchItems() {\n\t\tlet url = this.state.apiEndpoint + '/get-stock';\n\t\taxios.get(url)\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(\"get items response ==>\", res);\n\t\t\t\tlet items = res.data;\n\t\t\t\tthis.setState({items : items, loaded : true})\n\t\t\t})\n\t\t\t.catch((error)=>{\n\t\t\t\tconsole.log(\"error in place order ==>\", error);\n\t\t\t})\n\t}\n}\n\nexport default StocksSummary;","import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport Home from './components/home/home.js';\n// import List from './components/list-page/list-page.js';\nimport Specials from './components/specials/specials.js';\nimport StocksSummary from './components/stocks-summary/stocks.js';\n\nconst App = (props) => (\n\t<Router>\n\t\t\t<Route exact path=\"/\" component={Home} />\n\t\t\t<Route path=\"/search\" component={Home} />\n\t\t\t<Route path=\"/specials\" component={Specials} />\n\t\t\t<Route path=\"/orders\" component={Home} />\n\t\t\t<Route path=\"/stock-summary\" component={StocksSummary} />\n\t</Router>\n)\n\n// const PrivateRoute = ({ component: Component, ...rest }) => (\n// \t<Route {...rest} render={props =>\n// \t\t\tAuth.getAuth() \n// \t\t\t? ( <Component {...props} />) \n// \t\t\t: ( <Redirect to={{ pathname: \"/\" }}/>)\n// \t\t}\n// \t/>\n// );\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(<App/>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/tuckshop.a4db8ae6.jpg\";"],"sourceRoot":""}